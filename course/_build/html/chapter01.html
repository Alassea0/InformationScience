

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Information Science</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-2 bd-sidebar site-navigation show single-page" id="site-navigation">
    
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/chapter01.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            
        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="chapter-1-welcome">
<h1>Chapter 1: Welcome<a class="headerlink" href="#chapter-1-welcome" title="Permalink to this headline">¶</a></h1>
<p><img alt="" src="_images/data_to_conspiracy.jpg" /></p>
<p>Credit: unknown</p>
<div class="section" id="welcome">
<h2>Welcome<a class="headerlink" href="#welcome" title="Permalink to this headline">¶</a></h2>
<p>Welcome to the course “Information Science” for the University of Antwerp <strong><a class="reference external" href="https://www.uantwerpen.be/en/study/programmes/all-programmes/digital-text-analysis/">Master of Linguistics</a></strong> (from 2021-2022 onwards: “Master of Digital Text Analysis”)!</p>
</div>
<div class="section" id="who-am-i-and-why-does-that-matter">
<h2>Who am I and why does that matter?<a class="headerlink" href="#who-am-i-and-why-does-that-matter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="who-am-i">
<h3>Who am I?<a class="headerlink" href="#who-am-i" title="Permalink to this headline">¶</a></h3>
<p>My name is Tom Deneire, I hold a PhD in Classics from the Katholieke Universiteit Leuven (2009).</p>
<p>From 2009-2013 I worked as a <strong>postdoctoral researcher</strong> (Neo-Latin Studies) and a visiting professor (Latin rhetoric and stylistics), focussing mainly on the interplay of Neo-Latin and the vernacular, literary theory and dabbling in (then emerging) Digital Humanities (see e.g. <strong><a class="reference external" href="https://hdl.handle.net/10067/1535070151162165141">Deneire 2018</a></strong>).</p>
<p>In 2013 I moved to the University Library of Antwerp as <strong>Curator of the Special Collections</strong>, where I became increasingly interested in library metadata and data science. I started studying  XML, SQL and Python, and using these digital tools to research and aggregate library metadata.</p>
<p>In 2018 this lead to a switch from the Special Collections to the University Library’s software department <strong><a class="reference external" href="https://www.uantwerpen.be/nl/projecten/anet/">Anet</a></strong>, where I have been  working since then as a <strong>software engineer</strong> for <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Brocade_Library_Services">Brocade Library Services</a></strong>. My main languages are Python and especially <strong><a class="reference external" href="https://en.wikipedia.org/wiki/MUMPS">MUMPS</a></strong>, the language for our database engine (GT.M, provided by <strong><a class="reference external" href="https://yottadb.com/">YottaDB</a></strong>). My current project is a complete rewrite and integration of the library’s double module for authority files. Occasionally, I also use SQL, Golang, PHP, Javascript and HTML/CSS. I use Linux as OS (esp. the <strong><a class="reference external" href="https://linuxmint.com/">Linux Mint</a></strong> distro).</p>
<p>(More information about me and links at <strong><a class="reference external" href="https://tomdeneire.github.io/">https://tomdeneire.github.io/</a></strong>).</p>
</div>
<div class="section" id="why-does-that-matter">
<h3>Why does that matter?<a class="headerlink" href="#why-does-that-matter" title="Permalink to this headline">¶</a></h3>
<p>The above should make clear that I am not an expert in Information Science, nor a Computer Science major, nor have I been a professional developer for a long time. Indeed, at first I was not sure if I should really be teaching this course! So be warned that I will certainly not have all the answers in this course. On the other hand, my own profile is very kindred to that of my <strong>intended audience</strong>: humanities majors looking to acquire digital skills. I hope this common perspective will enable me to teach what such students need most from a vast field such as Information Science.</p>
</div>
</div>
<div class="section" id="course-contents-and-learning-outcomes">
<h2>Course contents and learning outcomes<a class="headerlink" href="#course-contents-and-learning-outcomes" title="Permalink to this headline">¶</a></h2>
<p>My specific profile also implies that this will not be a standard introduction to Information Science. If this is really what you are after, I think there is enough scholarly literature out there to get by. Instead what is offered here is a very hands-on introduction into library science and the technologies used in the field. Indeed, I am not exaggerating if I claim that in my professional activities developing library software, I will use each and every one of the topics dealt with in this course on an almost <strong>daily basis</strong>.</p>
<p>The aim of this course is to provide you with enough theoretical knowledge and especially practical experience to use these technologies in the field.</p>
</div>
<div class="section" id="technical-setup">
<h2>Technical setup<a class="headerlink" href="#technical-setup" title="Permalink to this headline">¶</a></h2>
<p>I have prepared this course as a series of Jupyter Notebooks and published on the <strong><a class="reference external" href="https://github.com/TomDeneire/InformationScience">GitHub repo</a></strong> for this course.</p>
<p>I have chosen Jupyter Notebooks because they offer a way to teach both in a classroom and online (should COVID-19 regulations prohibit live teaching). You can choose how you interact with these notebooks.</p>
<p>To view the content <strong>with code execution</strong>, you can:</p>
<ol class="simple">
<li><p>use an editor with a Jupyter Notebook extension, such as <strong><a class="reference external" href="https://code.visualstudio.com/">VS Code</a></strong></p></li>
<li><p>install <strong><a class="reference external" href="https://jupyter.org/install">Jupyter</a></strong> (Lab or Notebook) locally and open the notebooks in your browser</p></li>
</ol>
<p>If you don’t want to install Jupyter on your machine, you can open the notebooks with <strong><a class="reference external" href="https://colab.research.google.com/notebooks/">Google Colab</a></strong>, but executing the code isn’t always guaranteed to work (because of missing third-party libraries and stack overflows in heavy data operations).</p>
<p>To view the content <strong>without code execution</strong>, you can:</p>
<ol class="simple">
<li><p>read the notebooks in this <strong><a class="reference external" href="https://github.com/TomDeneire/InformationScience/tree/main/course">GitHub repository</a></strong></p></li>
<li><p>read the notebooks as a Jupyter Book hosted on <strong><a class="reference external" href="https://tomdeneire.github.io/InformationScience">GitHub Pages</a></strong></p></li>
</ol>
<p>In order to obtain these course materials and to participate with the course, please do the following:</p>
<ol class="simple">
<li><p>fork this repo to your own GitHub account</p></li>
<li><p>clone it to your local machine</p></li>
<li><p>make and push changes</p></li>
</ol>
<p>The third step especially applies to the coding assignments (see below). By commiting and pushing your changes I will be able to see them by going through the different forks to my repo. And of course if you find errors in the other course materials or want to propose changes, you can also make pull requests.</p>
<p>If you’re unsure how to do all of this, this <strong><a class="reference external" href="https://guides.github.com/activities/forking/">GitHub guide</a></strong> will help. (Other interesting sources on Git are this <strong><a class="reference external" href="https://link.medium.com/w1ShAzxQE9">Medium article</a></strong> and Atlassian’s <strong><a class="reference external" href="https://www.atlassian.com/git/tutorials/what-is-git">tutorial</a></strong>). This <strong><a class="reference external" href="https://link.medium.com/NdBy7ILHIbb">Medium article</a></strong> contains even more references to cheatsheets, tutorials, etc.</p>
<p>To be sure everyone is setup okay, please do the following:</p>
<ol class="simple">
<li><p>create a new folder “assignments”</p></li>
<li><p>put some test code in there (e.g. “test.py”), commit and push these changes to your fork</p></li>
</ol>
</div>
<div class="section" id="course-and-assignments">
<h2>Course and assignments<a class="headerlink" href="#course-and-assignments" title="Permalink to this headline">¶</a></h2>
<p>During the academic year 2020-2021, the course will take place on Fridays, from 9h30 to 12h30, in room C.203, during weeks 9-13.</p>
<p>Each course will feature about 1,5 to 2 hours of theory and about 1 hour of practice. Most courses will feature a <strong>coding assignment</strong>, which will be introduced and discussed during the practical part of the course. Students are expected to finish the assignments after hours.</p>
<p>Model solutions for the assignments will be made available in the repository with a few weeks delay.</p>
<div class="section" id="covid-19-update-5-november-2020">
<h3>!Covid-19 update (5 November 2020)<a class="headerlink" href="#covid-19-update-5-november-2020" title="Permalink to this headline">¶</a></h3>
<p>The University of Antwerp has decided to switch to online teaching only, at least until 30 November.</p>
<p>For this course this will be organized as follows:</p>
<ol class="simple">
<li><p>About one week before the course takes place, students will receive a Google Drive link where they can view a recording of the week’s course (+/- 1 hour).</p></li>
<li><p>Students watch the recording in their own time (+/- 1 hour) and also start implementing the coding assignment (+/- 0,5 hours).</p></li>
<li><p>On Fridays, from 9h30 to 11h (+/- 1,5 hours) we will meet in a Jitsi meeting room (link will be emailed) to discuss the course recording and the coding assignment. This session will also be recorded and uploaded to Google Drive.</p></li>
</ol>
<p>I hope that this online method can provide the hands-on mix of theory and practice I had hoped to achieve in person, without putting any additional strain on the students.</p>
<p>If there are any changes to this MO, I will let the students know ASAP.</p>
</div>
</div>
<div class="section" id="exam-project-assignment">
<h2>Exam: Project assignment<a class="headerlink" href="#exam-project-assignment" title="Permalink to this headline">¶</a></h2>
<p>The aforementioned assignments lead up to a <strong>project assignment</strong> which will serve as the exam for this course. The project assignment will be introduced during the final course. The course coding assignments are not part of the course evaluation, but students who have succesfully completed the previous course assignments will be excellently prepared for submitting an adequate project assignment. Students will be required to finish the project in a certain timeframe.</p>
</div>
<div class="section" id="things-you-might-find-interesting">
<h2>Things you might find interesting<a class="headerlink" href="#things-you-might-find-interesting" title="Permalink to this headline">¶</a></h2>
<p>The following links are reading material <em>ad libitum</em>. While I certainly do not expect you to read them, you might find them interesting. In any case, I did! Please feel free to send me suggestions too!</p>
<p>As a general note: you’ll notice that I often refer to <strong><a class="reference external" href="https://medium.com/">Medium</a></strong>, an online publishing platform for blogs dealing with just about anything. Medium lets you configure your interests so you get a personalized list of reading suggestions. Medium allows you to read upto 3 premium articles for free every month, but I find a paying membership more than worthwile.</p>
<ul class="simple">
<li><p>Book recommendations for Python on <strong><a class="reference external" href="https://towardsdatascience.com/python-books-you-must-read-in-2020-a0fc33798bb">Medium</a></strong></p></li>
<li><p>A fantastic Python <strong><a class="reference external" href="https://gto76.github.io/python-cheatsheet/">cheat sheet</a></strong></p></li>
<li><p>A GitHub repo of <strong><a class="reference external" href="https://github.com/EbookFoundation/free-programming-books">free programming books</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://discourse.computational-humanities-research.org/">Computational Humanities Research</a></strong>, a platform for discussion on digital humanities, where you can also ask help with technical questions (code, tools, …)</p></li>
</ul>
<div class="toctree-wrapper compound">
<span id="document-chapter02"></span><div class="section" id="chapter-2-definition">
<h3>Chapter 2: Definition<a class="headerlink" href="#chapter-2-definition" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/text_data_mining.jpg" /></p>
<p>Credit: Davide Bonazzi</p>
<div class="section" id="definition">
<h4>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h4>
<div class="section" id="information-science-retrieval-or-theory">
<h5>Information Science, Retrieval or Theory?<a class="headerlink" href="#information-science-retrieval-or-theory" title="Permalink to this headline">¶</a></h5>
<p>While this course is officially called Information <em>Science</em>, it was originally presented to me as Information <em>Retrieval</em>, which is rather different. And then you might also have heard about Information <em>Theory</em>. So let’s have a look at these disciplines and how they relate to each other.</p>
<div class="section" id="information-theory">
<h6>Information Theory<a class="headerlink" href="#information-theory" title="Permalink to this headline">¶</a></h6>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_theory">Wikipedia</a></strong> says:</p>
<blockquote>
<div><p>Information theory studies the <strong>quantification, storage, and communication of information</strong>. It was originally proposed by Claude Shannon in 1948 to find fundamental limits on signal processing and communication operations such as data compression, in a landmark paper titled “A Mathematical Theory of Communication”. Its impact has been crucial to the success of the Voyager missions to deep space, the invention of the compact disc, the feasibility of mobile phones, the development of the Internet, the study of linguistics and of human perception, the understanding of black holes, and numerous other fields.</p>
</div></blockquote>
<blockquote>
<div><p>The field is at the intersection of mathematics, statistics, computer science, physics, neurobiology, information engineering, and electrical engineering. The theory has also found applications in other areas, including statistical inference, natural language processing, cryptography, neurobiology, human vision, the evolution and function of molecular codes (bioinformatics), model selection in statistics, thermal physics, quantum computing, linguistics, plagiarism detection, pattern recognition, and anomaly detection. Important sub-fields of information theory include source coding, algorithmic complexity theory, algorithmic information theory, information-theoretic security, Grey system theory and measures of information.</p>
</div></blockquote>
<blockquote>
<div><p>Applications of fundamental topics of information theory include lossless <strong>data compression</strong> (e.g. ZIP files), lossy data compression (e.g. MP3s and JPEGs), and channel coding (e.g. for DSL). Information theory is used in information retrieval, intelligence gathering, gambling, and even in musical composition.</p>
</div></blockquote>
<blockquote>
<div><p>A key measure in information theory is <strong>entropy</strong>. Entropy quantifies the amount of uncertainty involved in the value of a random variable or the outcome of a random process. For example, identifying the outcome of a fair coin flip (with two equally likely outcomes) provides less information (lower entropy) than specifying the outcome from a roll of a die (with six equally likely outcomes). Some other important measures in information theory are mutual information, channel capacity, error exponents, and relative entropy.</p>
</div></blockquote>
<p>(By the way, the entropy example is already a very nice illustration of the difference between information and knowledge)</p>
</div>
<div class="section" id="information-retrieval">
<h6>Information Retrieval<a class="headerlink" href="#information-retrieval" title="Permalink to this headline">¶</a></h6>
<p>Information Retrieval relies on information theory for its methods, but it is a much more applied discipline. <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_retrieval">Wikipedia</a></strong> says:</p>
<blockquote>
<div><p>Information retrieval (IR) is the activity of obtaining information system resources that are relevant to an information need from a collection of those resources. Searches can be based on full-text or other content-based indexing. Information retrieval is the science of <strong>searching for information</strong> in a document, searching for documents themselves, and also searching for the metadata that describes data, and for databases of texts, images or sounds.</p>
</div></blockquote>
<blockquote>
<div><p>Automated information retrieval systems are used to reduce what has been called information overload. An IR system is a software system that provides access to books, journals and other documents; stores and manages those documents. Web search engines are the most visible IR applications.</p>
</div></blockquote>
<blockquote>
<div><p>An information retrieval process begins when a user enters a query into the system. Queries are formal statements of information needs, for example search strings in web search engines. In information retrieval a query does not uniquely identify a single object in the collection. Instead, several objects may match the query, perhaps with different degrees of relevancy.</p>
</div></blockquote>
<blockquote>
<div><p>An object is an entity that is represented by information in a content collection or database. User queries are matched against the database information. However, as opposed to classical SQL queries of a database, in information retrieval the results returned may or may not match the query, so results are typically ranked. This <strong>ranking of results</strong> is a key difference of information retrieval searching compared to database searching.</p>
</div></blockquote>
<blockquote>
<div><p>Depending on the application the data objects may be, for example, text documents, images, audio, mind maps or videos. Often the documents themselves are not kept or stored directly in the IR system, but are instead represented in the system by document surrogates or metadata.</p>
</div></blockquote>
<blockquote>
<div><p>Most IR systems compute a numeric score on how well each object in the database matches the query, and rank the objects according to this value. The top ranking objects are then shown to the user. The process may then be iterated if the user wishes to refine the query.</p>
</div></blockquote>
</div>
<div class="section" id="information-science">
<h6>Information Science<a class="headerlink" href="#information-science" title="Permalink to this headline">¶</a></h6>
<p>Finally, Information Science is introduced on <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_science">Wikipedia</a></strong> as:</p>
<blockquote>
<div><p>Information science (also known as information studies) is an academic field which is primarily concerned with <strong>analysis, collection, classification, manipulation, storage, retrieval, movement, dissemination, and protection of information.</strong> Practitioners within and outside the field study the application and the usage of knowledge in organizations along with the interaction between people, organizations, and any existing information systems with the aim of creating, replacing, improving, or understanding information systems. Historically, information science is associated with computer science, psychology, technology and intelligence agencies. However, information science also incorporates aspects of diverse fields such as archival science, cognitive science, commerce, law, linguistics, museology, management, mathematics, philosophy, public policy, and social sciences.</p>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="history">
<h4>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h4>
<p>In a way, all of these approaches are a way of dealing with <strong>information overload</strong>, which has a very long history. In a sense we might trace it back to Antiquity with Seneca the Elder (1st c. AD) who commented that “the abundance of books is distraction” or with Ecclesiastes 12:12: “of making books there is no end”. Indeed, compendia, anthologies, abbreviations and such became very popular in the Middle Ages as a way to manage information. However, with the arrival of the printing press information overload became truly problematic. We see people like Erasmus complaining about the swarms of new books and looking for ways to further organize, compile, index, … information in thesauri, encyclopaedias, etcetera. Of course, the arrival of digital carriers and finally the Internet are the apex of this evolution.</p>
<p>If your interested in reading more about this, have a look at the <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_overload">Wikipedia</a></strong> article on the topic, or for Early Modern times specifically:</p>
<ul class="simple">
<li><p>Ann Blair, <strong><a class="reference external" href="http://archive.boston.com/bostonglobe/ideas/articles/2010/11/28/information_overload_the_early_years/?page=full">Information overload, the early years</a></strong></p></li>
<li><p>Ann Blair, Reading Strategies for Coping with Information Overload ca. 1550-
1700, in: Journal of the History of Ideas, 64 (2003), 11-28.</p></li>
</ul>
</div>
<div class="section" id="ethics">
<h4>Ethics<a class="headerlink" href="#ethics" title="Permalink to this headline">¶</a></h4>
<p>Something else which is beyond the scope of this course, is information ethics. Still, we cannot go by without at least briefly touching the topic.</p>
<p>Living in the <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_Age">Information Age</a></strong> is of course a wonderful thing. Most vital aspects of our life, health, work, communication, travel, … all rely on information. It started with newspapers, radio and TV. Then came computers, the Internet and mobile phones. Today, all of these media are interconnected in our smartphones, tablets and laptops. They are fed by big data and increasingly able through the use of artificial intelligence and machine learning.</p>
<p>While the possibilities of the Information Age can be immensely empowering, it is also clear that <strong>great power comes with great responsiblity</strong>. The flipside of our dependency of information are phenomena like computer crime, digital dark age, cyberterrorism, digital divide, child pornography on the Dark Web, and many, many more.</p>
<p>Often information technologies are very ambivalent, and it is not easy to see when they cross the line. Two examples.</p>
<p>A. A South-Korean TV documentary gave a mother the opportunity to meet a digital version of her dead daughter after her body, voice and face were recreated using virtual reality technology. You can read more about it in these sources and also watch the footage on YouTube (which I recommend). Do you find the story beautiful or heartbreaking?</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://www.telegraph.co.uk/technology/2020/02/11/virtual-reality-used-reunite-grieving-mother-avatar-dead-child/">Telegraph</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://futurism.com/watch-mother-reunion-deceased-child-vr">Futurism.com</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://youtu.be/uflTK8c4w0c">YouTube</a></strong></p></li>
</ul>
<p>B. You probably know about <strong><a class="reference external" href="https://en.wikipedia.org/wiki/GPT-3">GPT-3</a></strong>, Generative Pre-trained Transformer 3, which is a language model — a program that is, given an input text, trained to generate text, e.g. to predict the next word or words (thus writing a story) or to translate (just look at <strong><a class="reference external" href="https://twitter.com/sharifshameem/status/1284095222939451393?s=20">this example</a></strong>!). GPT-3 is one of the largest such models, having been trained on about 45 terabytes of text data, taken from thousands of web sites such as Wikipedia, plus online books and many other sources (definition from this <strong><a class="reference external" href="https://medium.com/&#64;melaniemitchell.me/can-gpt-3-make-analogies-16436605c446">Medium article</a></strong>). The quality of the text generated by GPT-3 is so high that it is difficult to distinguish from that written by a human, which has both benefits and risks. One of the risks is that if there is a certain bias (eurocentric, sexist, racist, …) present in the data the model is trained on, this trend will be reflected in the texts produced by the model. Some concrete examples can be found in:</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://techcrunch.com/2020/08/07/here-are-a-few-ways-gpt-3-can-go-wrong/">Techcrunch</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://medium.com/fair-bytes/how-biased-is-gpt-3-5b2b91f1177">Medium</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://twitter.com/Abebab/status/1309137018404958215?s=09">Twitter</a></strong></p></li>
</ul>
<p>The recent Netflix documentary <strong><a class="reference external" href="https://www.netflix.com/be/title/81254224">The Social Dilemma</a></strong> undoubtedly touches this subject too, although I haven’t seen it myself yet.</p>
</div>
</div>
<span id="document-chapter03"></span><div class="section" id="chapter-3-getting-started">
<h3>Chapter 3: Getting started<a class="headerlink" href="#chapter-3-getting-started" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/Hello_World_Brainfuck.png" /></p>
<p>“Hello world” program in <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Brainfuck">Brainfuck</a></strong></p>
<div class="section" id="getting-started">
<h4>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h4>
<p>A good scholarly way to get started is reading the introductions to some of the books mentioned in the course description - especially <em>Handbook of Information Science</em>, but also <em>Modern Information Retrieval</em> or <em>Information Architecture</em>.</p>
<p>But let’s open up things a bit more anecdotally, with the story of <strong><a class="reference external" href="https://daily.jstor.org/internet-before-internet-paul-otlet/">Paul Otlet and the Internet before the Internet</a></strong>…</p>
</div>
<div class="section" id="manipulating-information">
<h4>Manipulating Information<a class="headerlink" href="#manipulating-information" title="Permalink to this headline">¶</a></h4>
<p>The case of Otlet shows several things, but above all it makes it clear that information (or metadata in this case) never just <em>is</em>. It is <em>always already</em> manipulated in order to present it in a certain way (Derrida pun intended). So we could say that at the heart of information retrieval is <strong>manipulating information</strong>, i.e. selecting, grouping, filtering, ordering, sorting, ranking. (For those of you who know <strong><a class="reference external" href="https://en.wikipedia.org/wiki/SQL">SQL</a></strong>, notice how this resembles the syntax of a <code class="docutils literal notranslate"><span class="pre">select</span></code> statement? For those of you who don’t, don’t worry, we’ll look into it later on.)</p>
<p>In programming terms, you would be surprised to see how much of this comes down to basic <strong>string operations</strong>, like testing metadata for certain criteria or sorting them. And while manipulating strings might seem easy, things can get complicated really easily.</p>
<div class="section" id="example-sorting-strings">
<h5>Example: sorting strings<a class="headerlink" href="#example-sorting-strings" title="Permalink to this headline">¶</a></h5>
<p>Let’s look at the example of sorting strings. Suppose our task is presenting an alphabetized list of contact persons. The alphabet is a recognizable and expected key for such a list, so that makes sense from an information retrieval perspective.</p>
<p>Of course, in Python you can just do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">contacts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Doe, John&quot;</span><span class="p">,</span> <span class="s2">&quot;Poppins, Mary&quot;</span><span class="p">,</span> <span class="s2">&quot;Doe, Jane&quot;</span><span class="p">]</span>
<span class="n">sorted_contacts</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_contacts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Doe, Jane&#39;, &#39;Doe, John&#39;, &#39;Poppins, Mary&#39;]
</pre></div>
</div>
</div>
</div>
<p>But suppose you are dealing with a language where there is no built-in sorting method. (And believe me, there are!) How would you go about sorting a list of strings?</p>
<p>Let me simplify the problem. Somewhere along the line you will have to represent individual characters as numbers, e.g. a = 1, b = 2, and then sort numbers.</p>
<p>So let’s think about the root issue: how do you sort a list of numbers?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">sorted_numbers</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sorted_numbers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 7, 7, 8]
</pre></div>
</div>
</div>
</div>
<p>Of course, the sorting algorithm is a well-known chapter in Computer Science. Some of you might be familiar with different kinds of sorts, like merge sort, insertion sort or (my favourite) <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Bubble_sort">bubble sort</a></strong>. For some Python implementations, see this <strong><a class="reference external" href="https://www.tutorialspoint.com/python_data_structure/python_sorting_algorithms.htm">Tutorialspoint article</a></strong> or for a general discussie, see this <strong><a class="reference external" href="https://medium.com/better-programming/5-basic-sorting-algorithms-you-must-know-9ef5b1f3949c?_branch_match_id=730721907169511509">Medium article</a></strong>.</p>
<p>But if you have never studied it, writing your own sort for the first time will not be an easy exercise. I challenge you, it’s good fun to try. For a bit of fun, here’s another kind of sort I recently implemented in Python: <em>random sort</em>. Very time-inefficient, but perfectly functional!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">random_sort</span><span class="p">(</span><span class="n">InputList</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">shuffle</span>
    <span class="n">check</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">check</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">shuffle</span><span class="p">(</span><span class="n">InputList</span><span class="p">)</span>
        <span class="n">test</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">unsorted</span> <span class="ow">in</span> <span class="n">InputList</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">unsorted</span> <span class="o">&gt;=</span> <span class="n">test</span><span class="p">:</span>
                <span class="n">check</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">check</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">break</span>
            <span class="n">test</span> <span class="o">=</span> <span class="n">unsorted</span>
    <span class="k">return</span> <span class="n">InputList</span>

<span class="nb">print</span><span class="p">(</span><span class="n">random_sort</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 7, 7, 8]
</pre></div>
</div>
</div>
</div>
<p>And that’s only the first part of the problem: sorting a list of numbers. Now try to think how this would help to sort lists of strings. First of all, how would you translate characters to numbers?</p>
<p>One way is to use <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Unicode">Unicode</a></strong> code points for numbers:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s2">&quot;Doe, John&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>68,111,101,44,32,74,111,104,110,
</pre></div>
</div>
</div>
</div>
<p>But of course when the case changes, the numbers will also change:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s2">&quot;doe, john&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">),</span><span class="n">end</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100,111,101,44,32,106,111,104,110,
</pre></div>
</div>
</div>
</div>
<p>You can account for that by converting all strings to lower case first, but what happens in the case of <code class="docutils literal notranslate"><span class="pre">Étienne</span></code> versus <code class="docutils literal notranslate"><span class="pre">Etienne</span></code>, which you would want to be sorted close to each other and are, in fact, used interchangeably?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s2">&quot;Étienne&quot;</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">char</span> <span class="o">+</span> <span class="s2">&quot; = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="s2">&quot;Etienne&quot;</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">char</span> <span class="o">+</span> <span class="s2">&quot; = &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">char</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>é = 233
t = 116
i = 105
e = 101
n = 110
n = 110
e = 101


e = 101
t = 116
i = 105
e = 101
n = 110
n = 110
e = 101
</pre></div>
</div>
</div>
</div>
<p>We can complicate matters even more:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u00C5</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u212B</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\u0041\u030A</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Å
Å
Å
</pre></div>
</div>
</div>
</div>
<p>So even Unicode code points don’t offer a unique mapping of characters to numbers. (To solve this, there is luckily something called <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Unicode_equivalence#Normalization">Unicode normalization</a></strong>)</p>
<p>And, by the way, do you know the encoding of the strings the list will contain? And why does that matter? It matters, because the editor you use to read the strings (e.g. VS code) and the programming language you use often work with default encodings. For instance, Python3 (not Python2) is default UTF8. So if you receive strings in a different encoding, you’ll have to decode them to render your results properly.</p>
<p>(If you’re not comfortable with the difference between text and bytes, and the notion of encoding/decoding, this article is a good starting point: <strong><a class="reference external" href="https://link.medium.com/XW8PnuiLtbb">A Guide to Unicode, UTF-8 and Strings in Python</a></strong> by Sanket Gupta).</p>
<p>Let’s simulate what would happen if you were working with non-UTF8 encoded strings in Python3:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">e_accent_aigue</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">233</span><span class="p">)</span>  <span class="c1"># unicode code point for é character</span>
<span class="k">for</span> <span class="n">encoding</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="s1">&#39;latin1&#39;</span><span class="p">,</span> <span class="s1">&#39;ibm850&#39;</span><span class="p">]:</span>
    <span class="n">bytes_string</span> <span class="o">=</span> <span class="n">e_accent_aigue</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">bytes_string</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">bytes_string</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unable to print bytes </span><span class="si">{</span><span class="n">bytes_string</span><span class="si">}</span><span class="s2"> in UTF8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>b&#39;\xc3\xa9&#39;
é
b&#39;\xe9&#39;
Unable to print bytes b&#39;\xe9&#39; in UTF8
b&#39;\x82&#39;
Unable to print bytes b&#39;\x82&#39; in UTF8
</pre></div>
</div>
</div>
</div>
<p>You can see how complex seemingly trivial tasks of information theory, like alphabetizing a list,really are. We’ve gone from Paul Otlet’s grand visions of the future to the bare bits and bytes, one of the most fundamental concepts in computer science, really quickly.</p>
</div>
</div>
<div class="section" id="assignment-onegram-counter">
<h4>Assignment: Onegram Counter<a class="headerlink" href="#assignment-onegram-counter" title="Permalink to this headline">¶</a></h4>
<p>You probably know about Google Book’s <strong><a class="reference external" href="https://books.google.com/ngrams">Ngram Viewer</a></strong>: when you enter phrases into it, it displays a graph showing how those phrases have occurred in a corpus of books (e.g., “British English”, “English Fiction”, “French”) over the selected years.</p>
<p>Your assignment for this course is something similar: build a Python function that can take the file <code class="docutils literal notranslate"><span class="pre">data/corpus.txt</span></code> (UTF-8 encoded) from this repo as an argument and print a count of the 100 most frequent 1-grams (i.e. <em>single words</em>).</p>
<p>In essence the job is to do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">def</span> <span class="nf">onegrams</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">corpus</span><span class="p">:</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="c1"># .casefold() is better than .lower() here</span>
        <span class="c1"># https://www.programiz.com/python-programming/methods/string/casefold</span>
        <span class="n">normalize</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">normalize</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> 
        <span class="k">return</span> <span class="n">count</span>

<span class="n">ngram_viewer</span> <span class="o">=</span> <span class="n">onegrams</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;corpus.txt&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ngram_viewer</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;the&#39;, 11852), (&#39;&#39;, 5952), (&#39;of&#39;, 5768), (&#39;and&#39;, 5264), (&#39;to&#39;, 4027), (&#39;a&#39;, 3980), (&#39;in&#39;, 3548), (&#39;that&#39;, 2336), (&#39;his&#39;, 2061), (&#39;it&#39;, 1517), (&#39;as&#39;, 1490), (&#39;i&#39;, 1488), (&#39;with&#39;, 1460), (&#39;he&#39;, 1448), (&#39;is&#39;, 1400), (&#39;was&#39;, 1393), (&#39;for&#39;, 1337), (&#39;but&#39;, 1319), (&#39;all&#39;, 1148), (&#39;at&#39;, 1116), (&#39;this&#39;, 1063), (&#39;by&#39;, 1042), (&#39;from&#39;, 944), (&#39;not&#39;, 933), (&#39;be&#39;, 863), (&#39;on&#39;, 850), (&#39;so&#39;, 763), (&#39;you&#39;, 718), (&#39;one&#39;, 694), (&#39;have&#39;, 658), (&#39;had&#39;, 647), (&#39;or&#39;, 638), (&#39;were&#39;, 551), (&#39;they&#39;, 547), (&#39;are&#39;, 504), (&#39;some&#39;, 498), (&#39;my&#39;, 484), (&#39;him&#39;, 480), (&#39;which&#39;, 478), (&#39;their&#39;, 478), (&#39;upon&#39;, 475), (&#39;an&#39;, 473), (&#39;like&#39;, 470), (&#39;when&#39;, 458), (&#39;whale&#39;, 456), (&#39;into&#39;, 452), (&#39;now&#39;, 437), (&#39;there&#39;, 415), (&#39;no&#39;, 414), (&#39;what&#39;, 413), (&#39;if&#39;, 404), (&#39;out&#39;, 397), (&#39;up&#39;, 380), (&#39;we&#39;, 379), (&#39;old&#39;, 365), (&#39;would&#39;, 350), (&#39;more&#39;, 348), (&#39;been&#39;, 338), (&#39;over&#39;, 324), (&#39;only&#39;, 322), (&#39;then&#39;, 312), (&#39;its&#39;, 307), (&#39;such&#39;, 307), (&#39;me&#39;, 307), (&#39;other&#39;, 301), (&#39;will&#39;, 300), (&#39;these&#39;, 299), (&#39;down&#39;, 270), (&#39;any&#39;, 269), (&#39;than&#39;, 262), (&#39;has&#39;, 257), (&#39;very&#39;, 252), (&#39;though&#39;, 245), (&#39;yet&#39;, 245), (&#39;those&#39;, 242), (&#39;must&#39;, 238), (&#39;them&#39;, 237), (&#39;her&#39;, 237), (&#39;do&#39;, 234), (&#39;about&#39;, 234), (&#39;said&#39;, 233), (&#39;ye&#39;, 232), (&#39;who&#39;, 231), (&#39;still&#39;, 229), (&#39;great&#39;, 229), (&#39;most&#39;, 228), (&#39;man&#39;, 220), (&#39;two&#39;, 219), (&#39;seemed&#39;, 216), (&#39;long&#39;, 214), (&#39;your&#39;, 213), (&#39;before&#39;, 212), (&#39;it,&#39;, 210), (&#39;thou&#39;, 210), (&#39;ship&#39;, 209), (&#39;after&#39;, 208), (&#39;white&#39;, 207), (&#39;did&#39;, 202), (&#39;little&#39;, 201), (&#39;him,&#39;, 194)]
</pre></div>
</div>
</div>
</div>
<p>However, there is a twist: you can’t use the <code class="docutils literal notranslate"><span class="pre">collections</span></code> library…</p>
<p>Moreover, try to think about what else may be suboptimal in this example. For instance, in this code all of the text is loaded into memory in one time (with the <code class="docutils literal notranslate"><span class="pre">read()</span></code> method). What would happen if we tried this on a really big text file?</p>
<p><strong>Most importantly, the count is also wrong</strong>. Check by counting in an editor, for instance, and try to find out why.</p>
<p>If this is an easy task for you, you can also think about the graphical representation of the 1-gram count.</p>
</div>
</div>
<span id="document-chapter04"></span><div class="section" id="chapter-4-databases">
<h3>Chapter 4: Databases<a class="headerlink" href="#chapter-4-databases" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/data.jpeg" /></p>
<p>Credit: unknown</p>
<div class="section" id="information-vs-database-models">
<h4>Information vs Database Models<a class="headerlink" href="#information-vs-database-models" title="Permalink to this headline">¶</a></h4>
<p>Formal discussions of information might start with the discussion of <strong>information models</strong>. <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_model">Wikipedia’s definition</a></strong> reads:</p>
<blockquote>
<div><p>An information model in software engineering is a representation of concepts and the relationships, constraints, rules, and operations to specify <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Semantic_data_model">data semantics</a></strong> for a chosen domain of discourse. Typically it specifies relations between kinds of things, but may also include relations with individual things. It can provide sharable, stable, and organized structure of information requirements or knowledge for the domain context.</p>
</div></blockquote>
<blockquote>
<div><p>An information model provides formalism to the description of a problem domain without constraining how that description is mapped to an actual implementation in software. There may be many mappings of the information model. Such mappings are called data models (…)</p>
</div></blockquote>
<p>Information retrieval then goes a step further and also discusses <strong>information retrieval models</strong>, as does chapter 3 of <em>Modern Information Retrieval</em> :</p>
<blockquote>
<div><p>Modeling in IR is a complex process aimed at producing a ranking function, i.e., a function that assigns scores to documents with regard to a given query. This process consists of two main tasks: (a) the conception of a logical framework for representing documents and queries and (b) the definition of a ranking function that computes a rank for each document with regard to a given query.</p>
</div></blockquote>
<blockquote>
<div><p>To build a model, we think first of representations of the documents and of the user information needs. In the case of a document, the representation might be a subset of all terms in the document, which can be generated by removing stopwords (such as articles and prepositions) from the text, for instance. In the case of a query the representation might be a superset of the query terms formed by the original query enriched with synonyms, for instance. Given these representations, we then concieve the framework in which they can be modeled.</p>
</div></blockquote>
<p>However, while such models are obviously very interesting for information science, the discussion is also highly theoretical and requires no small amount of mathematics (set theory, algebra, probability theory, …). Instead, from our practical perspective it makes more sense to open up the discussion of information, by dealing with <strong>database models</strong>. Indeed, in most real-world applications of information science, you will most likely have to deal with specific databases that stores information and not with the abstract information models that map the data to these databases.</p>
</div>
<div class="section" id="databases">
<h4>Databases<a class="headerlink" href="#databases" title="Permalink to this headline">¶</a></h4>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Database">Wikipedia</a></strong> defines a database as a “an organized collection of data, generally stored and accessed electronically from a computer system”. Such a broad definition allows for many different kinds of databases, ranging from a single text file (e.g. the line <code class="docutils literal notranslate"><span class="pre">apples,oranges,grapes</span></code> is a database!) to complex database management systems (DBMS) like <strong><a class="reference external" href="https://en.wikipedia.org/wiki/MySQL">MySQL</a></strong> that operate on large data structures.</p>
<div class="section" id="database-models">
<h5>Database models<a class="headerlink" href="#database-models" title="Permalink to this headline">¶</a></h5>
<p>The classification of databases is a topic for a course on its own. For now, it will suffice to say that the development of database technology can be divided into three eras based on data model or structure: navigational, relational/SQL, and post-relational.</p>
<div class="section" id="navigational">
<h6>Navigational<a class="headerlink" href="#navigational" title="Permalink to this headline">¶</a></h6>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Navigational_database">Wikipedia</a></strong> says</p>
<blockquote>
<div><p>A navigational database is a type of database in which records or objects are found primarily by following <strong>references from other objects</strong>. The term was popularized by the title of Charles Bachman’s 1973 Turing Award paper, The Programmer as Navigator. This paper emphasized the fact that the new disk-based database systems allowed the programmer to choose arbitrary navigational routes following relationships from record to record, contrasting this with the constraints of earlier magnetic-tape and punched card systems where data access was strictly sequential.</p>
</div></blockquote>
<p>(…)</p>
<blockquote>
<div><p>Although Bachman described the concept of navigation in abstract terms, the idea of navigational access came to be associated strongly with the procedural design of the CODASYL Data Manipulation Language. Writing in 1982, for example, Tsichritzis and Lochovsky state that “The notion of currency is central to the concept of navigation.” By the <strong>notion of currency</strong>, they refer to the idea that a program maintains (explicitly or implicitly) a current position in any sequence of records that it is processing, and that operations such as <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">NEXT</span></code> and <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">PRIOR</span></code> retrieve records relative to this current position, while also changing the current position to the record that is retrieved.</p>
</div></blockquote>
</div>
<div class="section" id="relational-sql">
<h6>Relational/SQL<a class="headerlink" href="#relational-sql" title="Permalink to this headline">¶</a></h6>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Relational_model">Wikipedia:Relational_model</a></strong> and <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Database">Wikipedia:Database</a></strong> say:</p>
<blockquote>
<div><p>The relational model (…) is an approach to managing data using a structure and language consistent with first-order predicate logic, first described in 1969 by English computer scientist Edgar F. Codd, where all <strong>data is represented in terms of tuples, grouped into relations</strong>. (…) he described a new system for storing and working with large databases. Instead of records being stored in some sort of linked list of free-form records (…), Codd’s idea was to organise the data as a number of “tables”, each table being used for a different type of entity. Each table would contain a fixed number of columns containing the attributes of the entity. One or more columns of each table were designated as a primary key by which the rows of the table could be uniquely identified; cross-references between tables always used these primary keys, rather than disk addresses, and queries would join tables based on these key relationships, using a set of operations based on the mathematical system of relational calculus (from which the model takes its name). Splitting the data into a set of normalized tables (or relations) aimed to ensure that each “fact” was only stored once, thus simplifying update operations. Virtual tables called views could present the data in different ways for different users, but views could not be directly updated.</p>
</div></blockquote>
<blockquote>
<div><p>The purpose of the relational model is to provide a declarative method for specifying data and queries: users directly state what information the database contains and what information they want from it, and let the database management system software take care of describing data structures for storing the data and retrieval procedures for answering queries.</p>
</div></blockquote>
<blockquote>
<div><p>Most relational databases use the SQL data definition and query language</p>
</div></blockquote>
</div>
<div class="section" id="post-relational">
<h6>Post-relational<a class="headerlink" href="#post-relational" title="Permalink to this headline">¶</a></h6>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/NoSQL">Wikipedia</a></strong> says:</p>
<blockquote>
<div><p>A NoSQL (originally referring to “non-SQL” or “non-relational”) database provides a mechanism for storage and retrieval of data that is modeled in <strong>means other than the tabular relations used in relational databases</strong>. Such databases have existed since the late 1960s, but the name “NoSQL” was only coined in the early 21st century (…) NoSQL databases are increasingly used in big data and real-time web applications. NoSQL systems are also sometimes called “Not only SQL” to emphasize that they may support SQL-like query languages or sit alongside SQL databases in polyglot-persistent architectures.</p>
</div></blockquote>
<blockquote>
<div><p>(…) The data structures used by NoSQL databases (e.g. key–value pair, wide column, graph, or document) are different from those used by default in relational databases, making some operations faster in NoSQL. The particular suitability of a given NoSQL database depends on the problem it must solve. Sometimes the data structures used by NoSQL databases are also viewed as “more flexible” than relational database tables.</p>
</div></blockquote>
<p>Categories of post-relational databases include:</p>
<ul class="simple">
<li><p><strong>key-value stores</strong>, such as the MUMPS database by YottaDB that we use for Brocade, the University of Antwerp’s Library Management System</p></li>
<li><p><strong>document stores</strong>, such as XML or JSON</p></li>
<li><p><strong>triple stores</strong>, such as RDF</p></li>
</ul>
<p>The important thing to realize here is that post-relational databases can express things that relational databases can’t. For instance, how would you translate this JSON (postrelational) to a spreadsheet (relational)?</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
	<span class="nt">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Tom Deneire&quot;</span><span class="p">,</span>
		<span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;39&quot;</span>
	<span class="p">},</span>
	<span class="nt">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span>
		<span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Gandalf&quot;</span><span class="p">,</span>
		<span class="nt">&quot;bio&quot;</span><span class="p">:</span> <span class="p">{</span>
			<span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
			<span class="nt">&quot;occupation&quot;</span><span class="p">:</span> <span class="s2">&quot;wizard&quot;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="databases-as-linked-data">
<h5>Databases as Linked Data<a class="headerlink" href="#databases-as-linked-data" title="Permalink to this headline">¶</a></h5>
<p>Another interesting way to think about databases is to consider them from the view point of Linked (open) Data.</p>
<p>At <strong><a class="reference external" href="https://www.w3.org/2011/gld/wiki/5_Star_Linked_Data">w3.org</a></strong> we read:</p>
<blockquote>
<div><p>Tim Berners-Lee, the inventor of the Web and initiator of the Linked Data project, suggested a 5 star deployment scheme for Linked Data. The 5 Star Linked Data system is cumulative. Each additional star presumes the data meets the criteria of the previous step(s).</p>
</div></blockquote>
<blockquote>
<div><p>☆ Data is available on the Web, in whatever format.</p>
</div></blockquote>
<blockquote>
<div><p>☆☆ Available as machine-readable structured data, (e.g., not a scanned image).</p>
</div></blockquote>
<blockquote>
<div><p>☆☆☆ Available in a non-proprietary format, (e.g, CSV, not Microsoft Excel).</p>
</div></blockquote>
<blockquote>
<div><p>☆☆☆☆ Published using open standards from the W3C (RDF and SPARQL).</p>
</div></blockquote>
<blockquote>
<div><p>☆☆☆☆☆ All of the above and links to other Linked Open Data.</p>
</div></blockquote>
<p>In this way, we can organize different database types into a data hierarchy like such:</p>
<p><img alt="" src="_images/5-star-steps-open-data-5-star-model.png" /></p>
<ul class="simple">
<li><p>OL: Open License</p></li>
<li><p>RE: Readable</p></li>
<li><p>OF: Open format</p></li>
<li><p>URI: Uniform Resource Identifier</p></li>
<li><p>LD: Linked Data</p></li>
</ul>
<p>For a good description of this summary, see <strong><a class="reference external" href="https://www.ontotext.com/knowledgehub/fundamentals/five-star-linked-open-data/">this article</a></strong>.</p>
</div>
<div class="section" id="rdf">
<h5>RDF<a class="headerlink" href="#rdf" title="Permalink to this headline">¶</a></h5>
<p>Unfortunately, we do not have time to discuss RDF and Linked Data in detail. However, it is important to realize that RDF is a data model, not a data serialization model, such as XML or JSON - in fact, both can be used to express RDF data.</p>
<p>A quick summary from <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Resource_Description_Framework">Wikipedia</a></strong>:</p>
<blockquote>
<div><p>The RDF data model is similar to classical conceptual modeling approaches (such as entity–relationship or class diagrams). It is based on the idea of making statements about resources (in particular web resources) in expressions of the form <strong>subject–predicate–object, known as triples</strong>. The subject denotes the resource, and the predicate denotes traits or aspects of the resource, and expresses a relationship between the subject and the object.</p>
</div></blockquote>
<blockquote>
<div><p>For example, one way to represent the notion “The sky has the color blue” in RDF is as the triple: a subject denoting “the sky”, a predicate denoting “has the color”, and an object denoting “blue”. Therefore, RDF uses subject instead of object (or entity) in contrast to the typical approach of an entity–attribute–value model in object-oriented design: entity (sky), attribute (color), and value (blue).</p>
</div></blockquote>
<blockquote>
<div><p>RDF is an abstract model with several serialization formats (i.e. file formats), so the particular encoding for resources or triples varies from format to format.</p>
</div></blockquote>
<p>The core concept of the triplestore and the underlying Linked Data principle is the Uniform Resource Identifier (URI), a unique and unambiguous ID for all things linked. Optimally linked data uses URIs for all three elements of the triple, subject, predicate and verb. To illustrate how this works, let’s look at the (abbreviated) RDF/XML for the Wikidata entry <strong><a class="reference external" href="https://www.wikidata.org/wiki/Q90">Paris</a></strong>, known as entity <code class="docutils literal notranslate"><span class="pre">Q90</span></code>:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
    <span class="nt">&lt;rdf:Description</span> <span class="na">rdf:about=</span><span class="s">&quot;http://www.wikidata.org/entity/Q90&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;wdt:P1376</span> <span class="na">rdf:resource=</span><span class="s">&quot;http://www.wikidata.org/entity/Q142&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/rdf:Description&gt;</span>
</pre></div>
</div>
<p>This is a triple expressing the fact that “Paris” (subject) “is the capital of” (predicate) “France” (object). To express this three URIs are used: <code class="docutils literal notranslate"><span class="pre">Q90</span></code> (Paris), <code class="docutils literal notranslate"><span class="pre">P1376</span></code> (property “is capital of”) and <code class="docutils literal notranslate"><span class="pre">Q142</span></code> (France). The makes the statement unique, uniform, unambiguous (telling a computer that Paris the city, not Paris Hilton (Q47899) is the capital of France), and linked: all elements of the triple are linked up to other data, e.g. <code class="docutils literal notranslate"><span class="pre">Q142</span></code> which was the object in this statement, will be the subject of others.</p>
<p>Consider the difference with non-RDF XML where resources are not identified with URIs and data is not linked and the model not open:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
    <span class="nt">&lt;Description&gt;</span>Paris
        <span class="nt">&lt;isCapitalof&gt;</span>France<span class="nt">&lt;/isCapitalof&gt;</span>
    <span class="nt">&lt;/Description&gt;</span>
</pre></div>
</div>
<p>RDF and especially Linked Open Data are undoubtedly part of the future for information science. If you’re interested to know more or need to work with RDF and Linked Data in practice, I highly recommend reading <em>A Librarian’s Guide to Graphs, Data and the Semantic Web</em>, By James Powell, <strong><a class="reference external" href="https://isbnsearch.org/isbn/9781843347538">ISBN 978-1843347538</a></strong>.</p>
</div>
</div>
<div class="section" id="query-languages">
<h4>Query Languages<a class="headerlink" href="#query-languages" title="Permalink to this headline">¶</a></h4>
<p>Database operations can be summarized with the acronym CRUD: create, read, update and delete. From an information standpoint, the main focus is arguably reading from the database. Most often though, we do not read directly as this is not possible (not all databases can be browsed), or practical (we get to much information). Instead, reading databases is usually done through <em>queries</em>, for which we use <a class="reference external" href="https://en.wikipedia.org/wiki/Query_language">query languages</a>.</p>
<p>Actually, query languages surpass databases. Formally, query languages can be classified according to whether they are <strong>database query languages</strong> or <strong>information retrieval query languages</strong>. The difference is that a database query language attempts to give factual answers to factual questions, while an information retrieval query language attempts to find documents containing information that is relevant to an area of inquiry.</p>
<p>For the latter we will discuss CQL, for the former XML and SQL.</p>
<div class="section" id="cql">
<h5>CQL<a class="headerlink" href="#cql" title="Permalink to this headline">¶</a></h5>
<p>Let’s start with an example of an information retrieval query language: contextual query language. According to <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Contextual_Query_Language">Wikipedia</a></strong></p>
<blockquote>
<div><p>Contextual Query Language (CQL), previously known as Common Query Language, is a formal language for representing queries to information retrieval systems such as search engines, bibliographic catalogs and museum collection information. Based on the semantics of Z39.50, its design objective is that queries be human readable and writable, and that the language be intuitive while maintaining the expressiveness of more complex query languages. It is being developed and maintained by the Z39.50 Maintenance Agency, part of the Library of Congress.</p>
</div></blockquote>
<p>Querying with CQL operates via SRU - Search/Retrieve via URL, which is a standard XML-based protocol for search queries.</p>
<p>You can find the <strong><a class="reference external" href="http://www.loc.gov/standards/sru/index.html">SRU</a></strong> and <strong><a class="reference external" href="https://www.loc.gov/standards/sru/cql/spec.html">CQL</a></strong> specifications at the Library of Congress website.</p>
<p>A fun example of an API that support SRU/CQL is offered by the <strong><a class="reference external" href="https://cerl.org/">CERL (Consortium of European Research Libraries)</a></strong>, which is responsible for the <strong><a class="reference external" href="https://data.cerl.org/thesaurus/_search">CERL Thesaurus</a></strong>, containing forms of imprint places, imprint names, personal names and corporate names as found in material printed before the middle of the nineteenth century - including variant spellings, forms in Latin and other languages, and fictitious names.</p>
<p>To use this API you just send a web request to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://data.cerl.org/thesaurus/_sru?version=1.2&amp;operation=searchRetrieve&amp;query=
</pre></div>
</div>
<p>followed by your CQL query in double quotes (or rather: <code class="docutils literal notranslate"><span class="pre">%22</span></code> which is the URL-safe encoding entity for <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>), for instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://data.cerl.org/thesaurus/_sru?version=1.2&amp;operation=searchRetrieve&amp;query=%22Erasmus%22
</pre></div>
</div>
<p>The response will be an XML document (database) containing the relevant CERL thesaurus entries for this query.</p>
</div>
<div class="section" id="xml">
<h5>XML<a class="headerlink" href="#xml" title="Permalink to this headline">¶</a></h5>
<p>XML is something most of you are already familiar with, as it is a recurring technology in digital text analysis. In fact, XML is ubiquitous in the information world. It is very actively used in the library world. Another example is invoicing; for instance, the Government of Flanders has been asking for XML e-invoices from its suppliers for all contracts since 2017.</p>
<p>If you need to brush up your understanding of XML, <strong><a class="reference external" href="https://www.w3schools.com/xml/">w3schools</a></strong> is a good place to start. Here we will briefly return to the matter of <strong>parsing XML</strong>, which is the process of analyzing XML documents to extract their information.</p>
<p>For Python, two XML libraries are highly recommended:</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://pypi.org/project/beautifulsoup4/">beautifulsoup</a></strong></p></li>
<li><p><strong><a class="reference external" href="https://lxml.de/">lxml</a></strong></p></li>
</ul>
<p>Both turn XML’s hierarchical structure into a parse tree, which behaves like a Pythonic object that you can then iterate over. Chapter 5 will feature a coding assignment that involves parsing and building XML, so it’s recommended to refamiliarize yourself with either or both of these libraries.</p>
</div>
<div class="section" id="sql-sqlite">
<h5>SQL/SQLite<a class="headerlink" href="#sql-sqlite" title="Permalink to this headline">¶</a></h5>
<p>Unlike XML, SQL is a technology that is probably new to most of you. Unlike RDF, which libraries seem hesitant to adopt, SQL is ubiquitous, including outside of libraries. Moreover, SQL has for instance heavily influenced the aforementioned CQL, and also <strong><a class="reference external" href="https://en.wikipedia.org/wiki/SPARQL">SPARQL</a></strong> , the query language for RDF. So knowing SQL will open many doors.</p>
<p>SQL is the query language for RDBMS, which are most often implemented in a <em>client-server</em> database engine. So for you to use SQL you would need a connection to a SQL database server, i.e. something like MySQL or Oracle. However, there is also a very good standalone alternative, called <strong><a class="reference external" href="https://en.wikipedia.org/wiki/SQLite">SQLite</a></strong>. Simply said SQLite is just a single file, but you can query it just like a SQL database server. There are some minute differences between SQL syntax and the SQLite dialect, but these are really small.</p>
<p>So let’s dive in with this Google Slides <strong><a class="reference external" href="https://docs.google.com/presentation/d/1hLpHtKFs79QJYS0NpN9u4RG_hNwqScwoLgObFJKmvy8/edit?usp=sharing">presentation</a></strong>.</p>
</div>
<div class="section" id="sqlite3">
<h5>sqlite3<a class="headerlink" href="#sqlite3" title="Permalink to this headline">¶</a></h5>
<p>Python’s standard library contains the module <strong><a class="reference external" href="https://docs.python.org/3/library/sqlite3.html">sqlite3</a></strong> which allows a SQL interface to a database.</p>
<p>For example, let’s launch some SQL queries on a sqlite database of <strong><a class="reference external" href="https://vlaamse-erfgoedbibliotheken.be/en/dossier/short-title-catalogue-flanders-stcv/stcv">STCV</a></strong>, which is the Short Title Catalogue Flanders, an online database with extensive bibliographical descriptions of editions printed in Flanders before 1801. This database is available as part of the <strong><a class="reference external" href="https://www.uantwerpen.be/nl/projecten/anet/open-data/">Anet Open Data</a></strong>. A recent version of it is available in this repo under <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sqlite3</span>

<span class="c1"># To use the module, you must first create a Connection object that represents the database</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;stcv.sqlite&#39;</span><span class="p">))</span>
<span class="c1"># Once you have a Connection, you create a Cursor object</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="c1"># To perform SQL commands you call the Cursor object&#39;s excute() method</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">        select distinct author_zvwr, title_ti, impressum_ju1sv from author</span>
<span class="s2">        join title on author.cloi = title.cloi</span>
<span class="s2">        join impressum on title.cloi = impressum.cloi</span>
<span class="s2">        group by author_zvwr</span>
<span class="s2">        &quot;&quot;&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="c1"># Call fetchall() to get a list of the matching rows</span>
<span class="c1"># Using list comprehension, explanation at https://medium.com/techtofreedom/8-levels-of-using-list-comprehension-in-python-efc3c339a1f0</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">row</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()]</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="mi">50</span><span class="p">:</span><span class="mi">60</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
<span class="c1"># Close the connection when you&#39;re done</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;A.E.J.D.&#39;, &#39;Exhibitio sacrorum canonum circa ius regvlarium ecclesiarvm, quoad prædicationem divini Verbi&#39;, &#39;1674&#39;)
(&#39;A.F.&#39;, &quot;Histoire de l&#39;empereur Charles V.&quot;, &#39;1663&#39;)
(&#39;A.F. Wouthers&#39;, &#39;Civilia busta Philippi ofte De borgerlycke uytvaert over Philippus den Vierden coninck van Spanien [...] gedaen door de overheyt ende het volck van Antwerpen [...] den 17. dagh der wintermaendt 1665&#39;, &#39;1666&#39;)
(&#39;A.F., Theophilus&#39;, &quot;Het noodeloos tegen-venyn van een stuck sermoons door christelycke liefde van bitterheyt gesuyvert en wederleyt door&#39;t gesagh van d&#39;algemeyne kerck-vergaderingen en van d&#39;heylige vaders dienende tot vastigheyt van ons out geloof&quot;, &#39;1718&#39;)
(&#39;A.G.&#39;, &#39;Maria het huys des heeren ghebouwt op seven colomnen, te weten op de dry goddelijcke deughden, ende de vier hooft-deughden&#39;, &#39;1683&#39;)
(&#39;A.H.&#39;, &quot;Entretiens de devotion sur le S. sacrement de l&#39;autel&quot;, &#39;1722&#39;)
(&#39;A.H.G.H.V.C. Romanum&#39;, &#39;Historia avgvsta, sive Imperatorvm cæsarvmq. Romanorvm vitae et res gestae ex antiquis inscriptionibus collecta&#39;, &#39;1602&#39;)
(&#39;A.H.v.G.&#39;, &#39;Getuige der waerheid in de leere van Gods eeuwige verkiezinge, van de genade des zaligmakers, en van den vryewil der menschen&#39;, &#39;1689&#39;)
(&#39;A.I.v.K.P.&#39;, &#39;Opgang, voortgang, en nedergang, der ketteryen deser eeuwe&#39;, &#39;1690&#39;)
(&#39;A.J. Charles&#39;, &#39;Het leven van de H. moeder Begga fondateuresse van de beggynen&#39;, &#39;1760&#39;)
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="assignment-json-metadata-harvester">
<h4>Assignment: JSON metadata harvester<a class="headerlink" href="#assignment-json-metadata-harvester" title="Permalink to this headline">¶</a></h4>
<div class="section" id="json">
<h5>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h5>
<p>One (document) database technology which we have not discussed yet, is <strong><a class="reference external" href="https://www.json.org/json-en.html">JSON</a></strong>. If you need to brush up on your JSON skills, <strong><a class="reference external" href="https://www.w3schools.com/js/js_json_intro.asp">w3schools</a></strong> is again a good starting point.</p>
<p>However, JSON is much easier to work with than XML. Whereas XML needs to be parsed or queried through <strong><a class="reference external" href="https://www.w3schools.com/xml/xpath_intro.asp">XPath</a></strong>, which is not an easy technology to master, basically, you can just think about JSON as a “string” version (it is a <em>document</em> database) of a Python dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">{</span>
<span class="s1">	&quot;name&quot;: &quot;Deneire&quot;,</span>
<span class="s1">	&quot;age&quot;: 39,</span>
<span class="s1">	&quot;initials&quot;: [&quot;T&quot;, &quot;B&quot;]</span>
<span class="s1">}</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">json_string</span><span class="p">))</span>

<span class="n">python_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">python_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Deneire&quot;</span>
<span class="n">python_dict</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">39</span>
<span class="n">python_dict</span><span class="p">[</span><span class="s2">&quot;initials&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">python_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">python_dict</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
	&quot;name&quot;: &quot;Deneire&quot;,
	&quot;age&quot;: 39,
	&quot;initials&quot;: [&quot;T&quot;, &quot;B&quot;]
}

&lt;class &#39;str&#39;&gt;
{&#39;name&#39;: &#39;Deneire&#39;, &#39;age&#39;: 39, &#39;initials&#39;: [&#39;T&#39;, &#39;B&#39;]}
&lt;class &#39;dict&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>In fact, Python allows you to access JSON just like a database, using the <code class="docutils literal notranslate"><span class="pre">json</span></code> library to either turn JSON into a dict (<code class="docutils literal notranslate"><span class="pre">loads()</span></code> ) or to turn a dict into JSON (<code class="docutils literal notranslate"><span class="pre">dumps()</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">loads</span><span class="p">,</span> <span class="n">dumps</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">{</span>
<span class="s2">	&quot;1&quot;: {</span>
<span class="s2">		&quot;lastname&quot;: &quot;Doe&quot;,</span>
<span class="s2">		&quot;firstname&quot;: &quot;John&quot;</span>
<span class="s2">	},</span>
<span class="s2">	&quot;2&quot;: {</span>
<span class="s2">		&quot;lastname&quot;: &quot;Doe&quot;,</span>
<span class="s2">		&quot;firstname&quot;: &quot;Jane&quot;</span>
<span class="s2">	}</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="c1"># Turn JSON into dict with loads()</span>
<span class="n">contacts_dict</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts_dict</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">][</span><span class="s2">&quot;lastname&quot;</span><span class="p">])</span>
<span class="c1"># Turn dict into JSON with dumps()</span>
<span class="n">contacts_dict</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">][</span><span class="s2">&quot;lastname&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Eyre&quot;</span>
<span class="n">contacts</span> <span class="o">=</span> <span class="n">dumps</span><span class="p">(</span><span class="n">contacts_dict</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contacts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Doe
{&quot;1&quot;: {&quot;lastname&quot;: &quot;Doe&quot;, &quot;firstname&quot;: &quot;John&quot;}, &quot;2&quot;: {&quot;lastname&quot;: &quot;Eyre&quot;, &quot;firstname&quot;: &quot;Jane&quot;}}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="what-is-an-api">
<h5>What is an API?<a class="headerlink" href="#what-is-an-api" title="Permalink to this headline">¶</a></h5>
<p>For your assignment you will be using the JSON data made available through the <strong><a class="reference external" href="https://pro.europeana.eu/page/entity">Europeana Entities API</a></strong>, which allows you to search on or retrieve information from named entities. These named entities (such as persons, topics and places) are part of the Europeana Entity Collection, a collection of entities in the context of Europeana harvested from and linked to controlled vocabularies, such as ​Geonames, DBpedia and Wikidata. It is advisable to read the API’s <strong><a class="reference external" href="https://pro.europeana.eu/page/entity">documentation</a></strong> first.</p>
<p>A quick word in general about an <strong><a class="reference external" href="https://en.wikipedia.org/wiki/API">API</a></strong>, or Application Programming Interface.</p>
<p>Non-technical users mostly interact with data through a GUI or Graphical User Interface, either locally (e.g. you use DBbrowser to look at a SQLite database) or on the web (e.g. you use Wikidata’s web page). However, when we try to interact with this data from a machine-standpoint, i.e. in programming, this GUI is not suitable. We need an interface that is geared towards computers. So we use a local (e.g. Python’s <code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> module) or remote (e.g. <strong><a class="reference external" href="https://query.wikidata.org/">Wikidata’s Query Service</a></strong>) API to get this data in a way that can be easily handled by computers.</p>
<p>In this way, an API is an intermediary structure, which has a lot of benefits. Wouldn’t it be nicer to have direct access to a certain database? In a way, yes, but this would also cause problems. There are many, many different database architectures, but <strong><a class="reference external" href="https://levelup.gitconnected.com/comparing-api-architectural-styles-soap-vs-rest-vs-graphql-vs-rpc-84a3720adefa">API architectures</a></strong> are generally quite predictable. They are often based on well-known technologies like JSON or XML, so you don’t have to learn a new query language. Moreover, suppose Wikidata changes their database? All of your code that uses the database would need to be rewritten. By using the API intermediary structure Wikidata can change the underlying database, but make sure their API still functions in the same way as before.</p>
<p>There are lots of free web APIs out there. The <strong><a class="reference external" href="https://api.nasa.gov/">NASA API</a></strong>, for instance, is quite incredible. Or this <strong><a class="reference external" href="https://evilinsult.com/generate_insult.php?lang=en&amp;type=json">Evil Insult Generator</a></strong>, if you want to have some fun! You can find an extensive list of free APIs __<a class="reference external" href="https://github.com/public-apis/public-apis">here</a>.</p>
</div>
<div class="section" id="assignment">
<h5>Assignment<a class="headerlink" href="#assignment" title="Permalink to this headline">¶</a></h5>
<p>Your assignment is simple. Write a Python script that prompts for user input of a named entity, query the API for that entity, parse the results and print them on standard output.</p>
<div class="section" id="some-tips">
<h6>Some tips:<a class="headerlink" href="#some-tips" title="Permalink to this headline">¶</a></h6>
<ul class="simple">
<li><p>You can use the key <code class="docutils literal notranslate"><span class="pre">wskey=apidemo</span></code> for your API request.</p></li>
<li><p>A good Python library to access URLs is <code class="docutils literal notranslate"><span class="pre">urllib</span></code>, an alternative (which is not in the standard library) is <code class="docutils literal notranslate"><span class="pre">requests</span></code>.</p></li>
<li><p>Think about what we have seen already about standardizing/normalizing search strings, but take this to the next level.</p></li>
<li><p>Try to anticipate what can go wrong so the program doesn’t crash in unexpected situations.</p></li>
<li><p>Test your application with the following search strings: <code class="docutils literal notranslate"><span class="pre">Erasmus</span></code>, <code class="docutils literal notranslate"><span class="pre">Justus</span> <span class="pre">Lipsius</span></code> and <code class="docutils literal notranslate"><span class="pre">Django</span> <span class="pre">Spirelli</span></code>.</p></li>
</ul>
<p>If this is an easy task for you, you might think about parsing the results and adding them to your own database structure, e.g. XML or SQLite.</p>
</div>
</div>
</div>
</div>
<span id="document-chapter05"></span><div class="section" id="chapter-5-metadata">
<h3>Chapter 5: Metadata<a class="headerlink" href="#chapter-5-metadata" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/metadata.jpg" /></p>
<p>Credit: unknown</p>
<div class="section" id="metadata">
<h4>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h4>
<p>In the previous chapter we saw how, from a practical point of view it makes more sense to talk about <em>data</em> models instead of <em>information</em> models. In this chapter, we are going to do the same with information itself. Indeed, a lot of what happens in information science does not have to do with information <em>per se</em>, but with information <em>about</em> information, also known as <strong>metadata</strong>:</p>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Metadata">Wikipedia</a></strong> says:</p>
<blockquote>
<div><p>Metadata is “data that provides information about other data”. In other words, it is “data about data.” Many distinct types of metadata exist, including descriptive metadata, structural metadata, administrative metadata, reference metadata and statistical metadata.</p>
</div></blockquote>
<p>In this discussion, we will focus especially on <strong>descriptive metadata</strong>, i.e. descriptive information about a resource.</p>
<p>Descriptive metadata is used for discovery and identification. If we think about books, for example, descriptive metadata would include elements such as title, author, date of publication, etcetera. Or, <code class="docutils literal notranslate"><span class="pre">Exif</span></code> (Exchangeable image file format) is a metadata standard that specifies the formats for images, sound, and ancillary tags used by digital cameras (including smartphones), scanners and other systems handling image and sound files recorded by digital cameras.</p>
</div>
<div class="section" id="metadata-is-important">
<h4>Metadata is important!<a class="headerlink" href="#metadata-is-important" title="Permalink to this headline">¶</a></h4>
<p>Metadata might seem trivial – in fact, I don’t like the word <em>ancillary</em> (inspired by Wikipedia) in the previous paragraph – or non-essential. However, metadata performs a huge and crucial role in information science and software development as a whole. As a rule, applications will strictly separate the business logic of the application (e.g. invoice system) and the metadata the application uses (e.g. database of clients, suppliers, etc.), in order to keep their software as generic as possible, but without the latter, the former is just an empty shell.</p>
<p>Consider, as an illustration, this story about a bug in the <strong><a class="reference external" href="https://www.theregister.com/2020/07/18/samsung_bluray_mass_dieoff_explained/">Samsung Blu Ray player</a></strong>!</p>
</div>
<div class="section" id="it-s-complicated">
<h4>It’s complicated<a class="headerlink" href="#it-s-complicated" title="Permalink to this headline">¶</a></h4>
<p>The definition of metadata as “data about data” somewhat misses the mark. In order to illustrate that, we need to take a look at a concrete example of metadata.</p>
<p>Have a look at this title page:</p>
<p><img alt="" src="_images/Lipsius.jpg" /></p>
<p>Credit: photo: <strong><a class="reference external" href="https://anet.be/record/stcvopac/c:stcv:7081813/E">STCV catalogue</a></strong>, copy: <strong><a class="reference external" href="https://anet.be/record/opacuantwerpen/c:lvd:452568/E">UA-CST MAG-P 13.74</a></strong> (f. *1 recto)</p>
<div class="section" id="stcv">
<h5>STCV<a class="headerlink" href="#stcv" title="Permalink to this headline">¶</a></h5>
<p>The STCV catalogue, which we have already mentioned a few times, catalogues this book’s title* <strong><a class="reference external" href="https://anet.be/record/stcvopac/c:stcv:7081813/E">as follows</a></strong>:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Metadata</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Title</p></td>
<td><p>Title page: Poliorceticωn sive De machinis. Tormentis. Telis. Libri qvinqve</p></td>
</tr>
<tr class="row-odd"><td><p>Author</p></td>
<td><p>Title page: Ivstus Lipsius [Lipsius, Justus]</p></td>
</tr>
<tr class="row-even"><td><p>.</p></td>
<td><p>External: van Veen, Otto [Illustrator]</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>External: van der Borcht, Pieter I [Illustrator]</p></td>
</tr>
<tr class="row-even"><td><p>Publication</p></td>
<td><p>Title page: ex officina Plantiniana, apud viduam, &amp; Ioannem Moretum [Rivière, Jeanne &amp; Jan I Moretus]</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>Title page: Antverpiæ [Antwerp]</p></td>
</tr>
<tr class="row-even"><td><p>.</p></td>
<td><p>1596</p></td>
</tr>
<tr class="row-odd"><td><p>Language</p></td>
<td><p>Latin [Target language]</p></td>
</tr>
</tbody>
</table>
<p>(* There are also other sections of information, such as analytical bibliography, keywords, etc.)</p>
<p>Now let’s compare this to the title page.</p>
<ul class="simple">
<li><p>For instance, we see that the difference between lower case, upper case and small caps has disappeared. This might seem trivial, but did you realise that in Renaissance Latin a capitalized final “I” stands for “ii”? So the full title is actually, “Ivsti Lipsii…” Or, suppose that someone is studying the use of capitalization in title layout as a marketing means. This is vital information that is missing.</p></li>
<li><p>Moreover, when we focus on the title, we see small changes. Whereas the title page does not have a space between “Tormentis.Telis”, the transcription does. And it also leaves out the italic parts <em>Ad Historiarum lucem</em> (In light of History) and <em>Cum Privilegiis Caesareo &amp; Regio</em> (With Imperial and Royal Privilege). Again, such information could be very interesting to book historians, including the fact that italic type is used on the front page (again a matter of layout which could be construed as visual marketing).</p></li>
<li><p>Also, when we look at the date, we notice this has been interpreted rather than transcribed. The Roman numeral (with the typical dots) has been silently turned into ‘1596’. This does injustice to the fact that humanists like Lipsius used Roman numerals on their title pages as a conscious imitation of ancient Roman epigraphy. The same goes for the line breaks.</p></li>
<li><p>Furthermore, we see that copy specific information, such as the stamp in the upper right corner and the pasted on inscription on the bottom have also been left out.</p></li>
<li><p>On the other hand, there is also more information in the descriptive metadata than is on the title page. The names of the illustrators, for instance, and the name of Christopher Plantin’s widow are added.</p></li>
</ul>
</div>
<div class="section" id="worldcat">
<h5>Worldcat<a class="headerlink" href="#worldcat" title="Permalink to this headline">¶</a></h5>
<p>Let’s compare this with the entry for the same title in <strong><a class="reference external" href="http://www.worldcat.org/oclc/79260741">Worldcat</a></strong>, the world’s largest network of library content and services:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>Metadata</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Title</p></td>
<td><p>Ivsti LipsI Poliorcetic[o]n, sive, De machinis, tormentis, telis, libri qvinqve : ad historiarum lucem.</p></td>
</tr>
<tr class="row-odd"><td><p>Author</p></td>
<td><p>Justus Lipsius; Petrus van der Borcht</p></td>
</tr>
<tr class="row-even"><td><p>Publisher</p></td>
<td><p>Antverpiæ : Ex Officina Plantiniana, apud Viduam, &amp; Ioannem Moretum, M.D. XCVI [1596]</p></td>
</tr>
</tbody>
</table>
<p>The information is pretty similar, but now that we are tuned into some of the subtleties we notice the differences.</p>
<p>“Ad historiarum lucem” is present here, for instance. On the other hand, Worldcat has different capitalization and provides only one illustrator, without specifying that this is external information (i.e. not included in the title page). Worldcat also has opts for a transliteration in Latin alphabet for Lipsius’s “macaronic” form Poliorceticωn, again a conscious effort of antiquarian <em>Spielerei</em>.</p>
</div>
<div class="section" id="discussion">
<h5>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h5>
<p>This example shows that different catalogues adhere to different cataloguing rules. Indeed, it is impossible to simply catalogue at book title (or indeed any item, be it physical or digital) “as is”. However diplomatic and inclusive you try to be when cataloguing, you will always have to make hard decisions about how to handle layout, how to transcribe characters, whether or not to standardize spelling, punctuation, etcetera.</p>
<p>All of this is perfectly understandable and in general (good) catalogues will be explicit and very scrupulous in the cataloguing rules they follow. The danger is that when we leave the cataloguing context and, for instance, acquire catalogue information in a data dump (STCV is freely available <strong><a class="reference external" href="https://www.uantwerpen.be/nl/projecten/anet/open-data/">here</a></strong>) we tend to forget this and take the metadata at face value.</p>
<p>Imagine for a minute that you hadn’t seen the above title page, but merely got the STCV metadata from a SQL query. How accurate would your understanding of this title page actually be? And what happens when, as good DH research is bound to do, you break open metadata containers and aggregate metadata, for instance merging several of the national “short-title catalogue” initiatives (STCV, <strong><a class="reference external" href="https://www.kb.nl/en/organisation/research-expertise/for-libraries/short-title-catalogue-netherlands-stcn">STCN</a></strong>, <strong><a class="reference external" href="http://estc.bl.uk/">ESTC</a></strong>, <strong><a class="reference external" href="https://www.ustc.ac.uk/">USTC</a></strong>, …), which all adhere to different rules?</p>
<p>To make matters worse, our example was a very simple one really. There are many, many more complex metadata problems. Just to give you a taste:</p>
<ul class="simple">
<li><p>How would you catalogue one of those toddler squeeky books that feature not a single word of text?</p></li>
<li><p>When in 1993 Prince changed his stage name to the unpronounceable symbol <img alt="Prince" src="_images/prince.png" /> (known to fans as the “Love Symbol”), and was sometimes referred to as the Artist Formerly Known as Prince or simply the Artist, how were record shops supposed to catalogue his albums? Remember, in those days, most people would go up to the “P” section and browse for “Prince”!</p></li>
<li><p>Or what about the IMDB website listing the actors of the Blair Witch Project as “missing, presumed dead” in the first year of the film’s availability (see <strong><a class="reference external" href="https://web.archive.org/web/20170109185339/http://www.telegraph.co.uk/films/2016/07/25/why-did-the-world-think-the-blair-witch-project-really-happened/">this</a></strong> article)?</p></li>
</ul>
</div>
</div>
<div class="section" id="metadata-101">
<h4>Metadata 101<a class="headerlink" href="#metadata-101" title="Permalink to this headline">¶</a></h4>
<p>We now have a better understanding of metadata. We know know that, as a former student of mine <strong><a class="reference external" href="https://twitter.com/karolingva">&#64;Karolingva</a></strong> once tweeted from a <strong><a class="reference external" href="https://www.rightscon.org/">RightsCon</a></strong> conference: metadata is not data about data, but</p>
<ul class="simple">
<li><p>created data about data</p></li>
<li><p>by humans</p></li>
<li><p>with a purpose</p></li>
<li><p>according to certain standards</p></li>
</ul>
<p>This means than when working with metadata we need to be acutely aware of this context.</p>
<p>In short, that means having an understanding of cataloguing standards, metadata standards and exports.</p>
<div class="section" id="cataloguing-standards">
<h5>Cataloguing standards<a class="headerlink" href="#cataloguing-standards" title="Permalink to this headline">¶</a></h5>
<p>As we saw in the case of STCV or WorldCat book titles were catalogued following certain rules. The same holds true for all sorts of physical or digital items. So if you are working with metadata you’ll do well to have at least a basic understanding of the cataloguing standards that were used to create the metadata.</p>
<p>As for <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Cataloging#Cataloging_standards">book cataloguing standards</a></strong>, for instance, we can mention</p>
<ol class="simple">
<li><p><strong><a class="reference external" href="http://access.rdatoolkit.org/">RDA</a></strong> (Resource Description and Access)</p>
<ul class="simple">
<li><p>(subscription needed)</p></li>
<li><p>E.g. names with articles = ‘The Hague’ NOT ‘Hague, the’</p></li>
</ul>
</li>
<li><p><strong><a class="reference external" href="http://rbms.info/dcrm/dcrmb/">DCRM(B)</a></strong> (Descriptive Cataloging of Rare Materials - Books)</p>
<ul class="simple">
<li><p>(open source)</p></li>
<li><p>E.g. no spaces for abbreviations = ‘Ad S.R.E. Cardinalem…’, EXCEPT multiple letter-abbreviations = ‘Ad Ph. D. Jacobum..’</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="metadata-standards">
<h5>Metadata standards<a class="headerlink" href="#metadata-standards" title="Permalink to this headline">¶</a></h5>
<p>Once metadata has been produced according to certain cataloguing rules, we can also define a <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Metadata_standard">metadata standard</a></strong>, i.e.</p>
<blockquote>
<div><p>a requirement which is intended to establish a common understanding of the meaning or semantics of the data, to ensure correct and proper use and interpretation of the data by its owners and users.</p>
</div></blockquote>
<p>Some of the most common metadata standards in the world of <strong><a class="reference external" href="https://en.wikipedia.org/wiki/GLAM_(industry_sector)">GLAM</a></strong> (galleries, libraries, archives, and museums) are:</p>
<ol class="simple">
<li><p>Books: <strong><a class="reference external" href="https://www.loc.gov/marc/">MARC</a></strong></p>
<ul class="simple">
<li><p>Machine-Readable Cataloging (MARC21)</p></li>
<li><p>e.g. field 245 = title</p></li>
</ul>
</li>
<li><p>Archives: <strong><a class="reference external" href="http://www.loc.gov/ead/">EAD</a></strong></p>
<ul class="simple">
<li><p>Encoded Archival Description (XML standard)</p></li>
</ul>
</li>
<li><p>Objects: <strong><a class="reference external" href="http://www.dublincore.org/">Dublin Core</a></strong></p>
<ul class="simple">
<li><p>Dublin Core Metadata Initiative</p></li>
</ul>
</li>
</ol>
<p>If you’re interested to know more about metadata standards, good starting points <a class="reference external" href="https://www.lyrasis.org/services/Pages/Digital-Toolbox-Metadata.aspx">this page</a> by Lyrasis, a non-profit organization whose mission is to support enduring access to the world’s shared academic, scientific and cultural heritage through open technologies, and <strong><a class="reference external" href="https://bartoc.org/">BARTOC</a></strong>, the Basic Register of Thesauri, Ontologies &amp; Classifications.</p>
</div>
<div class="section" id="exports">
<h5>Exports<a class="headerlink" href="#exports" title="Permalink to this headline">¶</a></h5>
<p>Working with metadata one is quickly faced with the issue of data being locked away in a so-called <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Information_silo">information silo</a></strong>:</p>
<blockquote>
<div><p>an insular management system in which one information system or subsystem is incapable of reciprocal operation with others that are, or should be, related. Thus information is not adequately shared but rather remains sequestered within each system or subsystem, figuratively trapped within a container like grain is trapped within a silo: there may be much of it, and it may be stacked quite high and freely available within those limits, but it has no effect outside those limits. Such data silos are proving to be an obstacle for businesses wishing to use data mining to make productive use of their data.</p>
</div></blockquote>
<p>Luckily many information systems, for instance for GLAM institutions, are paying increasing attention to providing open access metadata exports, which in turn allows to aggregate it (for further information retrieval, research purposes, etcetera).</p>
<p>Such exports will make metadata available in all sorts of standards (see above) and formats, such as data dumps in .txt or .tab, structured formats like .csv, document databases like .xml or .json, or linked data. As we have seen in chapter 04 with CERL and Europeana, some institutions even provide an API.</p>
<div class="section" id="examples-for-book-history">
<h6>Examples for book history<a class="headerlink" href="#examples-for-book-history" title="Permalink to this headline">¶</a></h6>
<p>Some time ago I made a very incomplete of useful metadata exports in the field of book history. They might be worthwhile if you are looking for a research project.</p>
<ol class="simple">
<li><p>Biographic databases</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://platform.worldcat.org/api-explorer/apis/VIAF">VIAF</a></strong> (Virtual International Authority File) (SRU protocol)</p></li>
<li><p><strong><a class="reference external" href="https://wiki.dbpedia.org/OnlineAccess">DBpedia</a></strong> (SPARQL endpoint, REST API, Lookup API)</p></li>
<li><p><strong><a class="reference external" href="https://data.cerl.org/thesaurus/_sru">CERL thesaurus</a></strong> (place name and personal names in Europe in the period of hand press printing, c. 1450 - c. 1830)  (linked data in XML/RDF, SRU protocol)</p></li>
<li><p><strong><a class="reference external" href="https://pro.europeana.eu/page/apis">Europeana APIs</a></strong> (SPARQL endpoint, REST API, …)</p></li>
<li><p><strong><a class="reference external" href="https://rkd.nl/en/collections/services-tools/rkdartists-as-linked-open-data/open-search-artists">RKDArtists</a></strong> (biographical data about artists, companies and institutes of various disciplines of visual arts, applied arts and architecture from both the Netherlands as abroad) (API with Lucene query syntax)</p></li>
</ul>
</li>
<li><p>Bibliographic databases</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://platform.worldcat.org/api-explorer/apis">Worldcat</a></strong> (wide range of exports, plugins, APIs)</p></li>
<li><p><strong><a class="reference external" href="https://www.uantwerpen.be/nl/projecten/anet/open-data/">Anet open data</a></strong> (including STCV, downloads in MARXML or SQLite)</p></li>
<li><p><strong><a class="reference external" href="http://openvirtuoso.kbresearch.nl/sparql">STCN</a></strong> (SPARQL endpoint)</p></li>
<li><p><strong><a class="reference external" href="https://rdrr.io/github/COMHIS/estc/f/README.md">ESTC</a></strong> (R toolkit)</p></li>
<li><p><strong><a class="reference external" href="https://www.cerl.org/resources/hpb/technical/modes_of_access_to_the_hpb_database">HPB</a></strong> (Heritage of the Printed Book Database, a catalogue of European printing of the hand-press period, c.1455-c.1830) SRU)</p></li>
<li><p><strong><a class="reference external" href="http://tw.staatsbibliothek-berlin.de/">TW</a></strong> (Typenrepertorium der Wiegendrucke) (XML exports)</p></li>
</ul>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="excursus-dh-example">
<h4>Excursus: DH example<a class="headerlink" href="#excursus-dh-example" title="Permalink to this headline">¶</a></h4>
<p>As an example of the kind of DH research you could do using library metadata, I refer to a kind of proof-of-concept paper of mine: <strong><a class="reference external" href="https://github.com/TomDeneire/quiring">A Datamining Approach to the Anet Database of Hand Printed Books. The Case of Early Modern Quiring Practices</a></strong>, which specifically aims to analyse the Early Modern practice of ‘quiring’ gatherings in handpress book production.</p>
</div>
<div class="section" id="assignment-marc21-to-dublin-core-conversion-for-oai">
<h4>Assignment: MARC21 to Dublin Core conversion for OAI<a class="headerlink" href="#assignment-marc21-to-dublin-core-conversion-for-oai" title="Permalink to this headline">¶</a></h4>
<p><strong><a class="reference external" href="https://www.openarchives.org/pmh/">The Open Archives Initiative Protocol for Metadata Harvesting (OAI-PMH)</a></strong> or OAI for short:</p>
<blockquote>
<div><p>is a low-barrier mechanism for repository interoperability. Data Providers are repositories that expose structured metadata via OAI-PMH. Service Providers then make OAI-PMH service requests to harvest that metadata. OAI-PMH is a set of six verbs or services that are invoked within HTTP.</p>
</div></blockquote>
<p>At Anet, for instance, we provide full OAI access to our complete database of books. Like so:</p>
<p>(MARC21)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://anet.be/oai/catgeneric/server.phtml?verb=GetRecord&amp;metadataPrefix=marc21&amp;identifier=c:lvd:123456 
</pre></div>
</div>
<p>(<strong><a class="reference external" href="https://en.wikipedia.org/wiki/Metadata_Object_Description_Schema">MODS</a></strong>)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://anet.be/oai/catgeneric/server.phtml?verb=GetRecord&amp;metadataPrefix=mods&amp;identifier=c:lvd:123456
</pre></div>
</div>
<p>In these examples, the trailing <code class="docutils literal notranslate"><span class="pre">c:lvd:</span></code> number is a unique Library Object Identifier (LOI) used by our LMS <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Brocade_Library_Services">Brocade</a></strong>. You can substitute it for any LOI you find in our <strong><a class="reference external" href="https://anet.uantwerpen.be/desktop/uantwerpen/opacuantwerpen/E">OPAC</a></strong>.</p>
<p>Typically, libraries will use the OAI protocol to import/export metadata in different formats. So when setting up an OAI server, one of the main tasks is coding software that converts data from one standard to another. Libraries management systems, for instance, need such conversions both to be able to feed an OAI server from their own database respository, or, vice versa, to harvest data from external repositories and convert it to the standard(s) they use.</p>
<p>According to the standards specifications, all implementations of OAI-PMH must support representing metadata in Dublin Core, so your assignment will be to write a metadata converter that is able to harvest MARC21 metadata (XML) and convert that to Dublin Core (XML). It should be a Python command line application that asks for a LOI number (e.g. <code class="docutils literal notranslate"><span class="pre">c:lvd:123456</span></code>), uses OAI to harvest the MARC21 metadata and then writes the Dublin Core conversion to a file (e.g. <code class="docutils literal notranslate"><span class="pre">123456.xml</span></code>).</p>
<div class="section" id="tips">
<h5>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>You can use the Library of Congress <strong><a class="reference external" href="https://www.loc.gov/marc/marc2dc.html">MARC to Dublin Core Crosswalk</a></strong>. You may limit yourself to the fields mentioned in the “unqualified” table and skip the “Leader” field. You will find the meaning of the various codes (<code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code>, etcetera) in the MARC specification, but you can limit yourself to code <code class="docutils literal notranslate"><span class="pre">a</span></code>, unless the crosswalk explicitly mentions other codes (e.g. <code class="docutils literal notranslate"><span class="pre">260</span></code> = <code class="docutils literal notranslate"><span class="pre">Publisher</span></code>).</p></li>
<li><p>The Python <code class="docutils literal notranslate"><span class="pre">lxml</span></code> library is well-suited to both parse (MARC21) and generate (Dublin Core) XML.</p></li>
<li><p>If you don’t already, you will need to know about XML namespaces. This <strong><a class="reference external" href="https://www.w3schools.com/xml/xml_namespaces.asp">tutorial from w3schools</a></strong> and the info from the <strong><a class="reference external" href="https://lxml.de/tutorial.html#namespaces">lxml module</a></strong> are good starting points.</p></li>
</ul>
</div>
<div class="section" id="quick-and-dirty-lxml-tutorial">
<h5>Quick and dirty lxml tutorial<a class="headerlink" href="#quick-and-dirty-lxml-tutorial" title="Permalink to this headline">¶</a></h5>
<p>As many of you are unfamiliar with reading, parsing and building XML, the following is a very quick tutorial about how to accomplish this with the <code class="docutils literal notranslate"><span class="pre">lxml</span></code> library.</p>
<div class="section" id="install-lxml">
<h6>Install lxml<a class="headerlink" href="#install-lxml" title="Permalink to this headline">¶</a></h6>
<p>Depending on your OS, you might first need to install lxml. For more instructions on this, go visit the <strong><a class="reference external" href="https://lxml.de/installation.html">documentation</a></strong>.</p>
</div>
<div class="section" id="reading-xml">
<h6>Reading XML<a class="headerlink" href="#reading-xml" title="Permalink to this headline">¶</a></h6>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">lxml.etree</span>

<span class="n">xml_string</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&lt;database&gt;</span>
<span class="s1">    &lt;record nr=&quot;1&quot;&gt;</span>
<span class="s1">        &lt;name type=&quot;last&quot;&gt;Deneire&lt;/name&gt;</span>
<span class="s1">        &lt;name type=&quot;first&quot;&gt;Tom&lt;/name&gt;</span>
<span class="s1">    &lt;/record&gt;</span>
<span class="s1">    &lt;record nr=&quot;2&quot;&gt;</span>
<span class="s1">        &lt;name type=&quot;last&quot;&gt;Lipsius&lt;/name&gt;</span>
<span class="s1">        &lt;name type=&quot;first&quot;&gt;Justus&lt;/name&gt;</span>
<span class="s1">    &lt;/record&gt;</span>
<span class="s1">&lt;/database&gt;</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="c1"># turn the XML string into an `etree` object</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="c1"># show the methods that this object allows</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Element database at 0x7efe362de280&gt;
[&#39;__bool__&#39;, &#39;__class__&#39;, &#39;__contains__&#39;, &#39;__copy__&#39;, &#39;__deepcopy__&#39;, &#39;__delattr__&#39;, &#39;__delitem__&#39;, &#39;__dir__&#39;, &#39;__doc__&#39;, &#39;__eq__&#39;, &#39;__format__&#39;, &#39;__ge__&#39;, &#39;__getattribute__&#39;, &#39;__getitem__&#39;, &#39;__gt__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__init_subclass__&#39;, &#39;__iter__&#39;, &#39;__le__&#39;, &#39;__len__&#39;, &#39;__lt__&#39;, &#39;__ne__&#39;, &#39;__new__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__reversed__&#39;, &#39;__setattr__&#39;, &#39;__setitem__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;_init&#39;, &#39;addnext&#39;, &#39;addprevious&#39;, &#39;append&#39;, &#39;attrib&#39;, &#39;base&#39;, &#39;clear&#39;, &#39;cssselect&#39;, &#39;extend&#39;, &#39;find&#39;, &#39;findall&#39;, &#39;findtext&#39;, &#39;get&#39;, &#39;getchildren&#39;, &#39;getiterator&#39;, &#39;getnext&#39;, &#39;getparent&#39;, &#39;getprevious&#39;, &#39;getroottree&#39;, &#39;index&#39;, &#39;insert&#39;, &#39;items&#39;, &#39;iter&#39;, &#39;iterancestors&#39;, &#39;iterchildren&#39;, &#39;iterdescendants&#39;, &#39;iterfind&#39;, &#39;itersiblings&#39;, &#39;itertext&#39;, &#39;keys&#39;, &#39;makeelement&#39;, &#39;nsmap&#39;, &#39;prefix&#39;, &#39;remove&#39;, &#39;replace&#39;, &#39;set&#39;, &#39;sourceline&#39;, &#39;tag&#39;, &#39;tail&#39;, &#39;text&#39;, &#39;values&#39;, &#39;xpath&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="parsing-xml">
<h6>Parsing XML<a class="headerlink" href="#parsing-xml" title="Permalink to this headline">¶</a></h6>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># iterate over the &quot;record&quot; elements</span>
<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="s2">&quot;record&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Element record at 0x7efe362da6c0&gt;
&lt;Element record at 0x7efe36282d40&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># iterate over the &quot;name&quot; elements</span>
<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Element name at 0x7efe355ebc00&gt;
&lt;Element name at 0x7efe35651340&gt;
&lt;Element name at 0x7efe362da6c0&gt;
&lt;Element name at 0x7efe36282d40&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># access the &quot;name&quot; elements</span>
<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">tree</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">):</span>
    <span class="c1"># XML attributes are dicts</span>
    <span class="k">for</span> <span class="n">attribute_name</span><span class="p">,</span> <span class="n">attribute_value</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">attribute_name</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">attribute_value</span><span class="p">)</span>
        <span class="c1"># get text with .text() method of element</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>type : last
Deneire
type : first
Tom
type : last
Lipsius
type : first
Justus
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="writing-xml">
<h6>Writing XML<a class="headerlink" href="#writing-xml" title="Permalink to this headline">¶</a></h6>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Constructing the aforementioned XML string</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;database&quot;</span><span class="p">)</span>
<span class="n">record1</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;record&quot;</span><span class="p">,</span> <span class="n">nr</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
<span class="n">name1</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">record1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">)</span>
<span class="n">name1</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Deneire&quot;</span>
<span class="n">name2</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">record1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>
<span class="n">name2</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Tom&quot;</span>
<span class="n">record2</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;record&quot;</span><span class="p">,</span> <span class="n">nr</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
<span class="n">name3</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">record2</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">)</span>
<span class="n">name3</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Lipsius&quot;</span>
<span class="n">name4</span> <span class="o">=</span> <span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">record2</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span>
<span class="n">name4</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Justus&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lxml</span><span class="o">.</span><span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">root</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>b&#39;&lt;database&gt;&lt;record nr=&quot;1&quot;&gt;&lt;name type=&quot;last&quot;&gt;Deneire&lt;/name&gt;&lt;name type=&quot;first&quot;&gt;Tom&lt;/name&gt;&lt;/record&gt;&lt;record nr=&quot;2&quot;&gt;&lt;name type=&quot;last&quot;&gt;Lipsius&lt;/name&gt;&lt;name type=&quot;first&quot;&gt;Justus&lt;/name&gt;&lt;/record&gt;&lt;/database&gt;&#39;
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<span id="document-chapter06"></span><div class="section" id="chapter-6-indexing">
<h3>Chapter 6: Indexing<a class="headerlink" href="#chapter-6-indexing" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/tablet.jpg" /></p>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Salamis_Tablet">Salamis tablet</a></strong></p>
<p>Credit: <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Salamis_Tablet#/media/File:Salaminische_Tafel_Salamis_Tablet_nach_Wilhelm_Kubitschek_Numismatische_Zeitschrift_Bd_31_Wien_1899_p._394_ff.jpg">Wikimedia Commons</a></strong></p>
<div class="section" id="searching">
<h4>Searching<a class="headerlink" href="#searching" title="Permalink to this headline">¶</a></h4>
<p>In all of our discussions about information we have so far neglected perhaps the most important aspect of it: <strong>searching</strong>. Indeed, you could say that the only difference between data and information, is that “information is data that we are looking for”. Ergo, very simply said, working with information often boils down to “searching stuff”. Whether it be metadata stored in databases (e.g. searching a library catalogue), text stored in documents (e.g. a full-text search-engine for a website) or even multimedia information retrieval.</p>
<p>Searching and search optimization are a vast area of computer science distinct type of computational problem. For instance, Donald Knuth’s monumental <em>The Art of Computer Programming</em> devotes an entire volume (i.e. vol. 3) to “Sorting and Searching”. This means that we will only be able to briefly touch on the topic and, as always, from a very practical point of view.</p>
<p>At face value searching might seem easy. Let’s look at finding a substring in a string. In Python, for instance, offers several ways to check for this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">MY_STRING</span> <span class="o">=</span> <span class="s2">&quot;Hello world, this is me&quot;</span>
<span class="n">MY_SEARCH</span> <span class="o">=</span> <span class="s2">&quot;me&quot;</span>

<span class="c1"># one way</span>
<span class="k">if</span> <span class="n">MY_SEARCH</span> <span class="ow">in</span> <span class="n">MY_STRING</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Not found&quot;</span><span class="p">)</span>

<span class="c1"># another way</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">MY_STRING</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">MY_SEARCH</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Not found!&quot;</span><span class="p">)</span>

<span class="c1"># third way</span>
<span class="kn">from</span> <span class="nn">re</span> <span class="kn">import</span> <span class="n">search</span>
<span class="k">if</span> <span class="n">search</span><span class="p">(</span><span class="n">MY_SEARCH</span><span class="p">,</span> <span class="n">MY_STRING</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Found!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Not found!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found!
Found!
Found!
</pre></div>
</div>
</div>
</div>
<p>However, search operations can soon become complicated and especially time-consuming. One crucial issue is the quantity of data we need to search. The above example could afford to use a string method to look for a literal string, but obviously this is not realistic when you are searching through millions of books (e.g. <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Google_Books">Google Books contains &gt;40.000.000 books</a></strong>) or huge metadata containers (e.g. <strong><a class="reference external" href="https://www.businessofapps.com/data/spotify-statistics/#:~:text=Source%3A%20Goodwater%20Capital-,Spotify%20Content%20Statistics,the%20largest%20music%20library%20available.">Spotify contains &gt;50.000.000 songs</a></strong>).</p>
</div>
<div class="section" id="indexing">
<h4>Indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h4>
<p>One way to deal with his issue is <strong>indexing</strong>. Simply said, an index is a data structure that improves the speed of data retrieval operations at the cost of additional writes and storage space to maintain the index data structure.</p>
<div class="section" id="simple-searches">
<h5>Simple searches<a class="headerlink" href="#simple-searches" title="Permalink to this headline">¶</a></h5>
<p>Consider the following example. Let’s say we have a large list of book titles and want to search them for a specific term.</p>
<p>Let’s first use SQL and the STCV database from chapter 04 to make such a list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sqlite3</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;stcv.sqlite&#39;</span><span class="p">))</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;select distinct title_ti from title&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
<span class="n">BOOK_TITLES</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">fetchall</span><span class="p">():</span>
    <span class="n">BOOK_TITLES</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="o">*</span><span class="n">title</span><span class="p">)</span>  <span class="c1"># * = unpacking the tuple `title`</span>
<span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="c1"># length of list</span>
<span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">BOOK_TITLES</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="s2">&quot;titles, e.g.:&quot;</span><span class="p">)</span>
<span class="c1"># some examples</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">BOOK_TITLES</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>26153 titles, e.g.:
- Gheestelicken schat vande derde ordre S. Dominici
- Het tweede deel der meditatien
- Reghelen end oeffeninghen voor de gheestelycke dochters vanden H. Franciscus de Sales
- Translaet van het reglement raeckende d&#39;appellatien, oft ander belagh vande ordonnantien van commissarissen tot auditie, ende recoulement vande rekeninghen vande publicque lasten, ende penninghen
- Decret rendu au conseil souverain de Brabant. Le 20 septembre 1791
- Copye van den circulairen brief, gheschreven inghevolge de orders van sijne catholiecke majesteyt, door den secretaris van de universeele depesche, aen alle sijne ambassadeurs inde uyt-heemsche hoven
- Nieuwe lijste van consumptie, [...] omme ghelicht ende ontfanghen te worden binnen den zeluen lande van Vlaendre: daermede te nieten ghedaen worden diuersche voorghaende lijsten
- Missæ propriæ sanctorum ecclesiæ cathedralis, et diœcesis Antverpiensis
- Maria Theresia [...]. Op de menighvuldige clachten [...] dat de heirbaenen, publiecke wegen, ende straeten in de seven quartieren van Antwerpen, ende in den byvanck van Lier soodaenigh verhindert, belemmert, ende buyten staet gestelt zijn, dat het [...] niet mogelijck en is [...] van d&#39;eene plaetse tot d&#39;andere te geraecken
- Interpretation et esclaircissement de certaines dovbtes et difficultez qui se sont recontrées [!] en l&#39;Ordonnance &amp; edict perpetuel [...] du xij. de iuillet de cest an 1611
</pre></div>
</div>
</div>
</div>
<p>Now let’s consider the difference between searching for the word <code class="docutils literal notranslate"><span class="pre">English</span></code> with and without an index.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">split</span><span class="p">(</span><span class="n">to_split</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">to_split</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">make_word_index</span><span class="p">(</span><span class="n">corpus</span><span class="p">):</span>
    <span class="n">index</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="n">index</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="p">[])</span>
            <span class="n">index</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">index</span>

<span class="k">def</span> <span class="nf">search_with_index</span><span class="p">(</span><span class="n">search_string</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">index</span><span class="p">[</span><span class="n">search_string</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">search_without_index</span><span class="p">(</span><span class="n">search_string</span><span class="p">,</span> <span class="n">list_to_search</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">list_to_search</span><span class="p">:</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">search_string</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="n">BOOK_TITLES_INDEX</span> <span class="o">=</span> <span class="n">make_word_index</span><span class="p">(</span><span class="n">BOOK_TITLES</span><span class="p">)</span>
<span class="n">result_no_index</span> <span class="o">=</span> <span class="n">search_without_index</span><span class="p">(</span><span class="s2">&quot;English&quot;</span><span class="p">,</span> <span class="n">BOOK_TITLES</span><span class="p">)</span>
<span class="n">result_index</span> <span class="o">=</span> <span class="n">search_with_index</span><span class="p">(</span><span class="s2">&quot;English&quot;</span><span class="p">,</span> <span class="n">BOOK_TITLES_INDEX</span><span class="p">)</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result_index</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result_no_index</span> <span class="o">==</span> <span class="n">result_index</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- English books to be sold by auction Catalogue d&#39;une tres-belle collection de livres en tous genres et langages [...] dont la vente se fera en argent de change, jeudi 18 Frimaire an 11, 9 decembre 1802, et jours suivans, chez Jacques Laureys au Marché aux herbes à Malines
- A new pocket dictionary and vocabulary of the Flemish, English and French languages
- A daily exercise, and devotions, for the young ladies, and gentlewomen pensioners at the monastery of the English canonesses regulars of the holy order of S. Augustin at Bruges
- A brieff apologie, or defence of the catholike ecclesiastical hierarchie, &amp; subordination in England, erected these later yeares by our holy father pope Clement the eyght; and impugned by certayne libels printed &amp; published of late both in Latyn &amp; English
- An appendix to the Apologie, lately set forth, for defence of the hierarchie, and subordination of the English catholike church, impugned by certaine discontented priestes
- A relation of the solemnetie wherewith the catholike princes K. Phillip the III. and quene Margaret were receyed in the English colledge of Valladolid the 22. of August. 1600
- A restitvtion of decayed intelligence: in antiquities. Concerning the most noble and renovvmed English nation
- Dottrina del ben morire. English
- Oratio Petri Frarini quod male reformandae religionis nomine arma sumpserunt sectarii nostri temporis habita. English
True
</pre></div>
</div>
</div>
</div>
<p>Obviously, the results of searching with and without a word index are the same. But what about the efficiency of the search? For this we can use Jupyter’s handy feature <code class="docutils literal notranslate"><span class="pre">%timeit</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">timeit</span> search_with_index(&quot;English&quot;, BOOK_TITLES_INDEX)
<span class="o">%</span><span class="k">timeit</span> search_without_index(&quot;English&quot;, BOOK_TITLES)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>127 ns ± 7.83 ns per loop (mean ± std. dev. of 7 runs, 10000000 loops each)
49.9 ms ± 3.59 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)
</pre></div>
</div>
</div>
</div>
<p>The difference is as large as milliseconds versus nanoseconds! Remember, with STCV we are only searching about 26,000 titles, but consider searching a collection like the Library of Congress, which holds over 170 million items…</p>
<div class="section" id="excursus-time-complexity">
<h6>Excursus: time complexity<a class="headerlink" href="#excursus-time-complexity" title="Permalink to this headline">¶</a></h6>
<p>In essence and, what we have just done boils down to changing the <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Time_complexity">time complexity</a></strong> of our search algorithm, i.e. the amount of computer time it takes to run the algorithm. Time complexity is commonly estimated by counting the number of elementary operations performed by the algorithm, supposing that each elementary operation takes a fixed amount of time to perform. Thus we say that looking for an item in a Python list with length <code class="docutils literal notranslate"><span class="pre">n</span></code> has a time complexity of <code class="docutils literal notranslate"><span class="pre">O(n)</span></code>, i.e. it could maximally take all <code class="docutils literal notranslate"><span class="pre">n</span></code> units of time to find it. Accessing a key in a Python dictionary, on the other hand, has a time complexity of <code class="docutils literal notranslate"><span class="pre">O(1)</span></code>, i.e. it always takes just one unit of time.</p>
<p>Optimizing searches by reducing the time complexity of one’s search operation lies at the very heart of searching and is a key aspect to Information Science in particular and Computer Science in general.</p>
</div>
</div>
<div class="section" id="complex-searches">
<h5>Complex searches<a class="headerlink" href="#complex-searches" title="Permalink to this headline">¶</a></h5>
<p>Of course, our example was only a simple one where we built an index that allowed to connect a word with a title. Real-world applications will often build several indices, cross-indices, include variant forms and allow for all kinds of complex searches such as searching with Boolean operators, proximity search, etcetera.</p>
<p>For instance, titles like “The Art of Computer Programming” and “Zen and the Art of Motorcycle Maintanance” could be turned into an AND-index like so:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">TITLES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;The Art of Computer Programming&quot;</span><span class="p">,</span> <span class="s2">&quot;Zen and the Art of Motorcycle Maintanance&quot;</span><span class="p">]</span>
<span class="n">index</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">TITLES</span><span class="p">:</span>
    <span class="n">clean_title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">casefold</span><span class="p">()</span>
    <span class="n">words</span> <span class="o">=</span> <span class="n">clean_title</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">index</span><span class="p">:</span>
            <span class="n">index</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">next_word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">next_word</span> <span class="o">==</span> <span class="n">word</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">next_word</span> <span class="ow">in</span> <span class="n">index</span><span class="p">[</span><span class="n">word</span><span class="p">]:</span>
                    <span class="n">index</span><span class="p">[</span><span class="n">word</span><span class="p">][</span><span class="n">next_word</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">title</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">index</span><span class="p">[</span><span class="n">word</span><span class="p">][</span><span class="n">next_word</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;the&quot;: {
        &quot;art&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;computer&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;programming&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;art&quot;: {
        &quot;the&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;computer&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;programming&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;of&quot;: {
        &quot;the&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;art&quot;: [
            &quot;The Art of Computer Programming&quot;,
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;computer&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;programming&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;computer&quot;: {
        &quot;the&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;art&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;of&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;programming&quot;: [
            &quot;The Art of Computer Programming&quot;
        ]
    },
    &quot;programming&quot;: {
        &quot;the&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;art&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;of&quot;: [
            &quot;The Art of Computer Programming&quot;
        ],
        &quot;computer&quot;: [
            &quot;The Art of Computer Programming&quot;
        ]
    },
    &quot;zen&quot;: {
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;the&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;art&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;and&quot;: {
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;the&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;art&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;motorcycle&quot;: {
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;the&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;art&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;maintanance&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    },
    &quot;maintanance&quot;: {
        &quot;zen&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;and&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;the&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;art&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;of&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ],
        &quot;motorcycle&quot;: [
            &quot;Zen and the Art of Motorcycle Maintanance&quot;
        ]
    }
}
</pre></div>
</div>
</div>
</div>
<p>In this way, searching with <code class="docutils literal notranslate"><span class="pre">AND</span></code> becomes easy in this index, e.g. books that combine “art” and “computer”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">index</span><span class="p">[</span><span class="s2">&quot;art&quot;</span><span class="p">][</span><span class="s2">&quot;computer&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;The Art of Computer Programming&#39;]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="excursus-bitmap-indexing">
<h4>Excursus: Bitmap indexing<a class="headerlink" href="#excursus-bitmap-indexing" title="Permalink to this headline">¶</a></h4>
<p>A lot more can be said about indexing. For one, you might wonder if indexing in itself might not lead to building overly large data structures that take up a lot of space and memory. As was clear from the above example of a combined index, indexing can quickly escalate.</p>
<p>One interesting technique to avoid such problems is bitmap indexing. <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Bitmap">Wikipedia</a></strong> says:</p>
<blockquote>
<div><p>In computing, a bitmap is a mapping from some domain (for example, a range of integers) to bits</p>
</div></blockquote>
<p>Let’s say you are a pen factory and have produced 10,000,000 pens of a certain type. Now you want to keep track of which pens have been sold by recording their serial numbers. For instance:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">getsizeof</span>
<span class="kn">import</span> <span class="nn">array</span>

<span class="c1"># using arrays which is more memory-efficient than lists</span>
<span class="c1"># https://docs.python.org/3/library/array.html</span>
<span class="n">pens_sold</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">pens_sold</span><span class="p">),</span> <span class="s1">&#39;bytes&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>67 bytes
</pre></div>
</div>
</div>
</div>
<p>So you need 67 bytes to store this information as a Python array. By the time all pens have been sold the list will be this large:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_pens_sold</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">)])</span>
<span class="c1"># converting bytes to megabytes</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">getsizeof</span><span class="p">(</span><span class="n">all_pens_sold</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.00000095367432</span>
<span class="nb">print</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="s1">&#39;megabytes&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>76.29399900576193 megabytes
</pre></div>
</div>
</div>
</div>
<p>So you see, things can get out of hand quickly. But if you use a bitmapping system, the overhead is radically different:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Setting a bit array here with array (https://docs.python.org/3/library/array.html)</span>
<span class="c1"># in real applications you should use https://pypi.org/project/bitmap/</span>

<span class="kn">import</span> <span class="nn">array</span>

<span class="c1"># a bit array of unsigned ints with bits 1, 5 and 10 set to 1 (= pens sold)</span>
<span class="n">pens_sold</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mb">0b1</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b0</span><span class="p">,</span> <span class="mb">0b1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">pens_sold</span><span class="p">),</span> <span class="s1">&#39;bytes&#39;</span><span class="p">)</span>

<span class="n">bitmap_of_all_pens_sold</span> <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mb">0b1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000000</span><span class="p">)])</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">getsizeof</span><span class="p">(</span><span class="n">bitmap_of_all_pens_sold</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.00000095367432</span>
<span class="nb">print</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="s1">&#39;megabytes&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>74 bytes
9.536803281482161 megabytes
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="lucene">
<h4>Lucene<a class="headerlink" href="#lucene" title="Permalink to this headline">¶</a></h4>
<p>The leading software for indexing and searching text is definitely <strong><a class="reference external" href="https://lucene.apache.org/">Lucene</a></strong>. However, Lucene is a Java library, which is not easy to implement (especially crossplatform as would be the case in this course).</p>
<p>There is a Python extension for accessing Java Lucene, called <strong><a class="reference external" href="https://lucene.apache.org/pylucene/">PyLucene</a></strong>. Its goal is to allow you to use Lucene’s text indexing and searching capabilities from Python. Still, PyLucene is not a Lucene <strong>port</strong> but a Python <strong>wrapper</strong> around Java Lucene. PyLucene embeds a Java VM with Lucene into a Python process. This means that you still need Java Lucene to run PyLucene, and some additional tools (GNU <code class="docutils literal notranslate"><span class="pre">Make</span></code>, a C++ compiler, …).</p>
</div>
<div class="section" id="whoosh">
<h4>Whoosh<a class="headerlink" href="#whoosh" title="Permalink to this headline">¶</a></h4>
<p>As text indexing/searching is bound to be really slow in Python (so it make good sense to stick to Java Lucene) there is no true pure-Python alternative to Lucene. However, there are some libraries that allow you to experiment with similar indexing/searching software. (Also check out this interesting __<a class="reference external" href="https://bart.degoe.de/building-a-full-text-search-engine-150-lines-of-code/">tutorial</a> for building a Python full-text search engine!)</p>
<p>One of these is <strong><a class="reference external" href="https://whoosh.readthedocs.io/en/latest/index.html">Whoosh</a></strong>, which is unfortunately no longer maintained. Still, the latest version, 2.7.4, is quite stable and still works fine for Python 3. It can easily be installed through <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">Whoosh</span></code>.</p>
<p>In the <a class="reference external" href="https://whoosh.readthedocs.io/en/latest/intro.html">Whoosh introduction</a> we read:</p>
<blockquote>
<div><p><strong>About Whoosh</strong></p>
<ul class="simple">
<li><p>Whoosh is fast, but uses only pure Python, so it will run anywhere Python runs, without requiring a compiler.</p></li>
<li><p>Whoosh creates fairly small indexes compared to many other search libraries.</p></li>
<li><p>All indexed text in Whoosh must be unicode.</p></li>
</ul>
</div></blockquote>
<blockquote>
<div><p><strong>What is Woosh</strong></p>
</div></blockquote>
<blockquote>
<div><p>Whoosh is a fast, pure Python search engine library.</p>
</div></blockquote>
<blockquote>
<div><p>The primary design impetus of Whoosh is that it is pure Python. You should be able to use Whoosh anywhere you can use Python, no compiler or Java required.</p>
</div></blockquote>
<blockquote>
<div><p>Like one of its ancestors, Lucene, Whoosh is not really a search engine, it’s a programmer library for creating a search engine.</p>
</div></blockquote>
<blockquote>
<div><p>Practically no important behavior of Whoosh is hard-coded. Indexing of text, the level of information stored for each term in each field, parsing of search queries, the types of queries allowed, scoring algorithms, etc. are all customizable, replaceable, and extensible.</p>
</div></blockquote>
<p>Indeed, Whoosh is quite similar to Lucene, including its query language. It lets you connect terms with <code class="docutils literal notranslate"><span class="pre">AND</span></code> or <code class="docutils literal notranslate"><span class="pre">OR</span></code>, eliminate terms with <code class="docutils literal notranslate"><span class="pre">NOT</span></code>, group terms together into clauses with parentheses, do range, prefix, and wilcard queries, and specify different fields to search.</p>
<p>The following code shows you how to create and search a basic Whoosh index. For more information, see the <a class="reference external" href="https://whoosh.readthedocs.io/en/latest/quickstart.html">Whoosh quick start</a> and documentation on the <a class="reference external" href="https://whoosh.readthedocs.io/en/latest/querylang.html">query language</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Whoosh quick start</span>
<span class="sd">https://whoosh.readthedocs.io/en/latest/quickstart.html</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">whoosh</span> <span class="kn">import</span> <span class="n">highlight</span>
<span class="kn">from</span> <span class="nn">whoosh.index</span> <span class="kn">import</span> <span class="n">create_in</span>
<span class="kn">from</span> <span class="nn">whoosh.fields</span> <span class="kn">import</span> <span class="n">Schema</span><span class="p">,</span> <span class="n">ID</span><span class="p">,</span> <span class="n">TEXT</span>
<span class="kn">from</span> <span class="nn">whoosh.qparser</span> <span class="kn">import</span> <span class="n">QueryParser</span>
<span class="kn">from</span> <span class="nn">whoosh.query</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Create schema</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">To begin using Whoosh, you need an index object. The first time you create</span>
<span class="sd">an index, you must define the index’s schema. The schema lists the fields in</span>
<span class="sd">the index. A field is a piece of information for each document in the index,</span>
<span class="sd">such as its title or text content. A field can be indexed (meaning it can be</span>
<span class="sd">searched) and/or stored (meaning the value that gets indexed is returned with</span>
<span class="sd">the results; this is useful for fields such as the title).</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">schema</span> <span class="o">=</span> <span class="n">Schema</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">TEXT</span><span class="p">(</span><span class="n">stored</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">content</span><span class="o">=</span><span class="n">TEXT</span><span class="p">(</span><span class="n">stored</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                <span class="n">path</span><span class="o">=</span><span class="n">ID</span><span class="p">(</span><span class="n">stored</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>

<span class="c1"># Create index</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Once you have the schema, you can create an index.</span>
<span class="sd">At a low level, this creates a Storage object to contains the index.</span>
<span class="sd">A Storage object represents that medium in which the index will be stored.</span>
<span class="sd">Usually this will be FileStorage, which stores the index as a set of files</span>
<span class="sd">in a directory.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
<span class="n">my_index</span> <span class="o">=</span> <span class="n">create_in</span><span class="p">(</span><span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>

<span class="c1"># Add documents</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">OK, so we’ve got an Index object, now we can start adding documents.</span>
<span class="sd">The writer() method of the Index object returns an IndexWriter object that</span>
<span class="sd">lets you add documents to the index. The IndexWriter’s add_document</span>
<span class="sd">method accepts keyword arguments where the field name is mapped to a value.</span>
<span class="sd">Once you have finished with the writer, you need to commit it.</span>

<span class="sd">The documents we add, a small corpus of British fiction, are part of</span>
<span class="sd">the course repo.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">OS_SEP</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">sep</span>  <span class="c1"># take care, different OS use different filepath separators!</span>

<span class="n">writer</span> <span class="o">=</span> <span class="n">my_index</span><span class="o">.</span><span class="n">writer</span><span class="p">()</span>

<span class="c1"># Corpus courtesy of Maciej Eder (http://maciejeder.org/)</span>
<span class="k">for</span> <span class="n">document</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;corpus_of_british_fiction&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">document</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.txt&quot;</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;corpus_of_british_fiction&quot;</span> <span class="o">+</span> <span class="n">OS_SEP</span> <span class="o">+</span> <span class="n">document</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">writer</span><span class="o">.</span><span class="n">add_document</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">document</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">read</span><span class="p">()),</span>
                                        <span class="n">path</span><span class="o">=</span><span class="n">document</span><span class="p">)</span>
<span class="n">writer</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>


<span class="c1"># Parse a query string</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Woosh&#39;s Searcher (cf. infra) takes a Query object. You can construct query</span>
<span class="sd">objects directly or use a query parser to parse a query string.</span>
<span class="sd">To parse a query string, you can use the default query parser in the qparser</span>
<span class="sd">module. The first argument to the QueryParser constructor is the default field</span>
<span class="sd">to search. This is usually the &quot;body text&quot; field. The second (optional) argument</span>
<span class="sd">is a schema to use to understand how to parse the fields. The argument of</span>
<span class="sd">the .parse() method is a query in Whoosh query language (similar to Lucene):</span>
<span class="sd">https://whoosh.readthedocs.io/en/latest/querylang.html</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">myquery</span> <span class="o">=</span> <span class="n">QueryParser</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">,</span> <span class="n">my_index</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;smattering&#39;</span><span class="p">)</span>
<span class="c1"># compare results for:</span>
<span class="c1"># myquery = QueryParser(&quot;content&quot;, my_index.schema).parse(&#39;smattering in surgery&#39;)</span>
<span class="c1"># myquery = QueryParser(&quot;content&quot;, my_index.schema).parse(&#39;smattering NOT surgery&#39;)</span>


<span class="c1"># Search documents</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Once you have a Searcher and a query object, you can use the Searcher&#39;s</span>
<span class="sd">search() method to run the query and get a Results object.</span>
<span class="sd">You can use the highlights() method on the whoosh.searching.Hit object</span>
<span class="sd">to get highlighted snippets from the document containing the search terms.</span>
<span class="sd">To limit the text displayed, you use a Fragmenter. More information at:</span>
<span class="sd">https://whoosh.readthedocs.io/en/latest/searching.html</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">with</span> <span class="n">my_index</span><span class="o">.</span><span class="n">searcher</span><span class="p">()</span> <span class="k">as</span> <span class="n">searcher</span><span class="p">:</span>
    <span class="c1"># Search</span>
    <span class="c1"># limit=None -&gt; search all documents in index</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">myquery</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
    <span class="c1"># Print paths that match</span>
    <span class="k">for</span> <span class="n">hit</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">hit</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Top 2 Results for Term(&#39;content&#39;, &#39;smattering&#39;) runtime=0.0008145450001393328&gt;
Thackeray_Barry.txt
Fielding_Joseph.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">my_index</span><span class="o">.</span><span class="n">searcher</span><span class="p">()</span> <span class="k">as</span> <span class="n">searcher</span><span class="p">:</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">searcher</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">myquery</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="c1"># Print examples of matching text with highlights and fragmenter</span>
    <span class="c1"># Use (default) context fragmenter</span>
    <span class="c1"># https://whoosh.readthedocs.io/en/latest/highlight.html#the-character-limit</span>
    <span class="n">results</span><span class="o">.</span><span class="n">fragmenter</span> <span class="o">=</span> <span class="n">highlight</span><span class="o">.</span><span class="n">ContextFragmenter</span><span class="p">(</span><span class="n">charlimit</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">hit</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">hit</span><span class="p">[</span><span class="s2">&quot;path&quot;</span><span class="p">],</span> <span class="s2">&quot;=&quot;</span><span class="p">,</span> <span class="n">hit</span><span class="o">.</span><span class="n">highlights</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 Thackeray_Barry.txt = and customs,

	and a &lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt; of the language...that he had no &lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt; of

	chemistry...of tune. She had a &lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt; of half-

	a-dozen
2 Fielding_Joseph.txt = and politics, hath a

	&lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt; in law and divinity...the gentleman.--&quot;A

	&lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt;--ho, ho, ho!&quot; said...I believe it is a

	&lt;b class=&quot;match term0&quot;&gt;smattering&lt;/b&gt; indeed.&quot;

	The company
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assignment-morphology-tool">
<h4>Assignment: Morphology tool<a class="headerlink" href="#assignment-morphology-tool" title="Permalink to this headline">¶</a></h4>
<p>Use Whoosh to illustrate English morphology with examples from a given corpus. For instance, the rules of morphology dictate verbs can take different forms or be used to form nouns, adjectives and such, like:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">render</span></code>: ‘renders’, ‘rendered’, ‘rendering’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">think</span></code>: ‘thinks’, ‘thought’, ‘thinking’, ‘thinker’, ‘thinkers’, ‘thinkable’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">put</span></code>: ‘puts’, ‘putting’, ‘putter’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">do</span></code>: ‘does’, ‘did’, ‘done’, ‘doing’, ‘doings’, ‘doer’, ‘doers’</p></li>
</ul>
<p>Forms like <code class="docutils literal notranslate"><span class="pre">think</span></code>, <code class="docutils literal notranslate"><span class="pre">put</span></code> and <code class="docutils literal notranslate"><span class="pre">do</span></code> illustrate that you cannot approach this problem in a mechanical or brute-force way. It is not as simple as adding ‘ed’, ‘ing’, etcetera to the verbs. Sometimes consonants are doubled, sometimes the verb stem changes (in the case of strong verbs), and so on.</p>
<p>Whoosh has a particular feature to deal with this. Look through the documentation and you’ll find it easily.</p>
<p>Use it to build a Python application that takes a word as input and returns a list of sentences from the British fiction corpus that contain this word to illustrate its usage. Think about building the index first, so you can then reuse it (without having to rebuild it) for additional searches.</p>
<p>Also, try to display the results nicely, i.e. without the markup tags and whitespace (line breaks, etc.) we saw in the above example. Maybe you can even print the matched word in bold?</p>
</div>
</div>
<span id="document-chapter07"></span><div class="section" id="chapter-7-searching-evaluation-ranking">
<h3>Chapter 7: Searching, Evaluation, Ranking<a class="headerlink" href="#chapter-7-searching-evaluation-ranking" title="Permalink to this headline">¶</a></h3>
<div class="section" id="introduction">
<h4>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h4>
<p>In the previous chapter we went from searching to indexing rather quickly. In fact, although we acknowledged that searching is a discrete field of computer science, we limited our practical discussion of it to an example of <em>string</em>.find(<em>substring</em>) in Python! Evidently, there is more to searching than just this. Moreover, we also need to say something about the crucial follow-up of any searching operation, i.e. the evaluation and subsequent ranking of the search results. Indeed, the very basic Information Retrieval model is:</p>
<blockquote>
<div><p>Retrieval &gt; Searching &gt; Evaluation &gt; Ranking</p>
</div></blockquote>
<p>Having already discussed some of the aspects of retrieval (e.g. querying), in this chapter, we will try to discuss the other factors. Again, we will do so from a very practical and hands-on standpoint, neglecting more or less completely the theoretical or multimedia dimension of these issues (see chapters 4-5, 14 in <em>Modern Information Retrieval</em>). Indeed, we will focus on text exclusively here.</p>
</div>
<div class="section" id="searching">
<h4>Searching<a class="headerlink" href="#searching" title="Permalink to this headline">¶</a></h4>
<p>We have already seen that searching text is rarely as easy as <code class="docutils literal notranslate"><span class="pre">string.find(substring)</span></code>. Searching vast data sets lead us to indexing, as did the issue of complex searches, such as Boolean queries. However, not all of the complex searches can be solved with indexing. Sometimes we want to include wildcards (many people are familiar with the <code class="docutils literal notranslate"><span class="pre">*</span></code> symbol) in our search, while other times we are not looking for exact results, but more interested in <em>fuzzy</em> searching.</p>
<div class="section" id="regular-expressions">
<h5>Regular expressions<a class="headerlink" href="#regular-expressions" title="Permalink to this headline">¶</a></h5>
<p><img alt="" src="_images/regex.png" /></p>
<p>Credit: <a class="reference external" href="https://xkcd.com/1171/">xkcd.com</a></p>
<p>The <code class="docutils literal notranslate"><span class="pre">*</span></code> symbol we used is actually part of a separate programming language, called <strong>regular expressions</strong>. <a class="reference external" href="https://en.wikipedia.org/wiki/Regular_expression">Wikipedia</a> says:</p>
<blockquote>
<div><p>A regular expression (shortened as regex or regexp; also referred to as rational expression) is a sequence of characters that define a search pattern. Usually such patterns are used by string-searching algorithms for “find” or “find and replace” operations on strings, or for input validation. It is a technique developed in theoretical computer science and formal language theory.</p>
</div></blockquote>
<blockquote>
<div><p>The concept arose in the 1950s when the American mathematician Stephen Cole Kleene formalized the description of a regular language. The concept came into common use with Unix text-processing utilities. Different syntaxes for writing regular expressions have existed since the 1980s, one being the POSIX standard and another, widely used, being the Perl syntax.</p>
</div></blockquote>
<blockquote>
<div><p>Regular expressions are used in search engines, search and replace dialogs of word processors and text editors, in text processing utilities such as sed and AWK and in lexical analysis. Many programming languages provide regex capabilities either built-in or via libraries.</p>
</div></blockquote>
<p>Python uses the Perl regex syntax, as do, for instance, Java, JavaScript, Julia, Ruby, Microsoft’s .NET Framework, and others. Some environments actually let you choose the regex syntax you want to use, like PHP or the UNIX <code class="docutils literal notranslate"><span class="pre">grep</span></code> command.</p>
<p>Regular expressions are an extremely powerful tool, but as the above cartoon shows there is a downside too. It is sometimes said that regular expressions are a <em>write only</em> programming language, as the code is often hardly readable, especially if you revisit a regex written long ago. Moreover, regular expresssions can be very tricky, for example, when they provide exact matches in your tests, only to produce mismatches when you open up the use cases.</p>
<p>Consider this example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>

<span class="n">rhyme</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\Dar&#39;</span><span class="p">)</span>
<span class="n">my_text</span> <span class="o">=</span> <span class="s2">&quot;Let&#39;s look at the words bar, car, tar, mar and far&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="n">my_text</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;bar&#39;, &#39;car&#39;, &#39;tar&#39;, &#39;mar&#39;, &#39;far&#39;]
</pre></div>
</div>
</div>
</div>
<p>So I’m looking for potential rhymes on “bar” and have written a regex that looks for one letter character <code class="docutils literal notranslate"><span class="pre">\D</span></code> followed by <code class="docutils literal notranslate"><span class="pre">ar</span></code>. However, when you apply this to one of the paragraphs you quickly see some mismatches, as we forgot to specify that the pattern can only occur at the end of a word.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">paragraph</span> <span class="o">=</span> <span class="s2">&quot;Regular expressions are an extremely powerful tool, but as the above cartoon shows there is a downside too. It is sometimes said that regular expressions are a write only programming language, as the code is often hardly readable, especially if you revisit a regex written long ago. Moreover, regular expresssions can be very tricky, for example, when they provide exact matches in your tests, only to produce mismatches when you open up the use cases.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">rhyme</span><span class="p">,</span> <span class="n">paragraph</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;lar&#39;, &#39; ar&#39;, &#39;car&#39;, &#39;lar&#39;, &#39; ar&#39;, &#39;har&#39;, &#39;lar&#39;]
</pre></div>
</div>
</div>
</div>
<p>So when you are inclined to use regular expressions, it is often good to ask yourself: is this the best solution for this problem. If you find yourself parsing XML with regular expressions (use a parsing library), or testing the type of user input with regexes (use <code class="docutils literal notranslate"><span class="pre">.isinstance()</span></code>), reconsider!</p>
<p>The only way to really get the hang of regular expressions is by diving in the deep end. Fortunately, there are many good tutorials online (e.g. at <strong><a class="reference external" href="https://www.w3schools.com/python/python_regex.asp">w3schools</a></strong>) and there are also handy regex testers where you can immediately check your regex, like <strong><a class="reference external" href="https://regexr.com/">regexr</a></strong>. For a good Python cheat sheet, see this <strong><a class="reference external" href="https://link.medium.com/BYkb73meJab">Medium post</a></strong>.</p>
<p>A good and certainly not trivial exercise would be to write a regex that can detect a valid email address, as specified in <strong><a class="reference external" href="https://tools.ietf.org/html/rfc5322">RFC 5322</a></strong>. For a (more readable) summary, see <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Email_address#Syntax">Wikipedia</a></strong>.</p>
<p>In practice, most applications that ask you to enter an email address will check on a simple subset of the specification. Can you whip something up that passes this test?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Examples from https://en.wikipedia.org/wiki/Email_address#Examples</span>
<span class="n">TEST</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># valid addresses</span>
    <span class="s2">&quot;simple@example.com&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> 
    <span class="s2">&quot;very.common@example.com&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> 
    <span class="s2">&quot;disposable.style.email.with+symbol@example.com&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> 
    <span class="s2">&quot;other.email-with-hyphen@example.com&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> 
    <span class="s2">&quot;x@example.com (one-letter local-part)&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> 
    <span class="s2">&quot;admin@mailserver1&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># local domain name with no TLD, although ICANN highly discourages dotless email addresses</span>
    <span class="c1"># invalid_addresses</span>
    <span class="s2">&quot;Abc.example.com&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># no @ character</span>
    <span class="s2">&quot;A@b@c@example.com&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># only one @ is allowed outside quotation marks</span>
    <span class="s2">&quot;1234567890123456789012345678901234567890123456789012345678901234+x@example.com&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>  <span class="c1"># local part is longer than 64 characters</span>
    <span class="s2">&quot;i_like_underscore@but_its_not_allow_in_this_part.example.com&quot;</span><span class="p">:</span> <span class="kc">False</span>  <span class="c1"># underscore is not allowed in domain part</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">email_regex</span><span class="p">(</span><span class="n">address</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="c1"># expand test</span>
    <span class="k">if</span> <span class="n">address</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;@&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="k">for</span> <span class="n">case</span> <span class="ow">in</span> <span class="n">TEST</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">email_regex</span><span class="p">(</span><span class="n">case</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span> <span class="o">==</span> <span class="n">TEST</span><span class="p">[</span><span class="n">case</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Test failed on </span><span class="si">{</span><span class="n">case</span><span class="si">}</span><span class="s2">. Expected = </span><span class="si">{</span><span class="n">TEST</span><span class="p">[</span><span class="n">case</span><span class="p">]</span><span class="si">}</span><span class="s2">. Result = </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Test failed on 1234567890123456789012345678901234567890123456789012345678901234+x@example.com. Expected = False. Result = True
Test failed on i_like_underscore@but_its_not_allow_in_this_part.example.com. Expected = False. Result = True
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fuzzy-searching">
<h5>Fuzzy searching<a class="headerlink" href="#fuzzy-searching" title="Permalink to this headline">¶</a></h5>
<p>Regular expressions can also be used to illustrate the concept of fuzzy searching or approximate string matching, which is the technique of finding strings that match a pattern approximately rather than exactly. <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Approximate_string_matching">Wikipedia</a></strong> explains:</p>
<blockquote>
<div><p>The closeness of a match is measured in terms of the number of primitive operations necessary to convert the string into an exact match. This number is called the edit distance between the string and the pattern. The usual primitive operations are:</p>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>insertion: cot → co<strong>a</strong>t</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>deletion: co<strong>a</strong>t → cot</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>substitution: co<strong>a</strong>t → co<strong>s</strong>t</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><p>These three operations may be generalized as forms of substitution by adding a NULL character (here symbolized by <code class="docutils literal notranslate"><span class="pre">*</span></code>) wherever a character has been deleted or inserted:</p>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>insertion: co*<strong><strong>t → co</strong>a</strong>t</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>deletion: co<strong>a</strong>t → co*t</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>substitution: co<strong>a</strong>t → co<strong>s</strong>t</p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><p>Some approximate matchers also treat transposition, in which the positions of two letters in the string are swapped, to be a primitive operation.</p>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>transposition: co<strong>st</strong> → co<strong>ts</strong></p>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><p>Different approximate matchers impose different constraints. Some matchers use a single global unweighted cost, that is, the total number of primitive operations necessary to convert the match to the pattern. For example, if the pattern is coil, foil differs by one substitution, coils by one insertion, oil by one deletion, and foal by two substitutions. If all operations count as a single unit of cost and the limit is set to one, foil, coils, and oil will count as matches while foal will not.</p>
</div></blockquote>
<blockquote>
<div><p>Other matchers specify the number of operations of each type separately, while still others set a total cost but allow different weights to be assigned to different operations. Some matchers permit separate assignments of limits and weights to individual groups in the pattern.</p>
</div></blockquote>
<div class="section" id="string-metrics">
<h6>String metrics<a class="headerlink" href="#string-metrics" title="Permalink to this headline">¶</a></h6>
<p>A <strong><a class="reference external" href="https://en.wikipedia.org/wiki/String_metric">string metric</a></strong> (also known as a string similarity metric or string distance function) is a metric that measures distance (“inverse similarity”) between two text strings. A string metric provides a number indicating an algorithm-specific indication of distance. The most widely known string metric is a rudimentary one called the <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a></strong> (also known as edit distance). Another is the <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance">Jaro-Winkler distance</a></strong>.</p>
</div>
</div>
</div>
<div class="section" id="evaluation-and-ranking">
<h4>Evaluation and ranking<a class="headerlink" href="#evaluation-and-ranking" title="Permalink to this headline">¶</a></h4>
<p>With string metrics we have arrived in the territory of search evaluation: so-called <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Evaluation_measures_(information_retrieval)">evaluation measures</a></strong> offer us an exact means to quantify the success of our search. Nowadays, with the advent of big data and the ubiquity of information, the best search engines make the difference not by the amount of information they yield, but by the ranking of the results they display. Unfortunately, the scope of this course is too limited to go into ranking more deeply.</p>
</div>
<div class="section" id="assignment-spelling-checker">
<h4>Assignment: Spelling checker<a class="headerlink" href="#assignment-spelling-checker" title="Permalink to this headline">¶</a></h4>
<p>One very practical application of string metrics, search evaluation and ranking is writing a spelling checker.</p>
<p>I’m not going to reveal too much of the solution here, but what I can say is that you’ll definitely need two things:</p>
<ol class="simple">
<li><p>A dictionary of existing words. As the corpus of the dictionary you can use the collection of words found in the British fiction corpus from the previous chapter. This is limited, but it’ll do for now.</p></li>
<li><p>A string metric. For this, you can use the Jaro-Winkler metric, which you do not have to implement yourself. Instead just use the code supplied in <code class="docutils literal notranslate"><span class="pre">jarowinkler.py</span></code> as shown below.</p></li>
</ol>
<p>Your application should do two things:</p>
<ol class="simple">
<li><p>Build the dictionary and save it in some form so it does not have to be rebuilt every time when the application is used.</p></li>
<li><p>Take a string and print on standard output a list of potential spelling mistakes, with a limited number of suggestions for the correction.</p></li>
</ol>
<p>As a final tip, you should consider reusing some of your code from chapter 3 for this application…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jarowinkler</span> <span class="kn">import</span> <span class="n">jaro_winkler</span>
<span class="nb">print</span><span class="p">(</span><span class="n">jaro_winkler</span><span class="p">(</span><span class="s2">&quot;coat&quot;</span><span class="p">,</span> <span class="s2">&quot;cot&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9333333333333333
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-chapter08"></span><div class="section" id="chapter-8-library-management-systems">
<h3>Chapter 8: Library Management Systems<a class="headerlink" href="#chapter-8-library-management-systems" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/Brocade.png" /></p>
<p><strong><a class="reference external" href="https://anet.be/visualisering/project/hierarchical-edge-bundling.htm">Brocade software visualization</a></strong></p>
<p>In this chapter about the Brocade library management system (LMS) we will try to tie the previous chapters together. Above all, the aim is the illustrate the overall <strong>architecture</strong> of an information system, i.e. how different technologies come together to make up a system.</p>
<div class="section" id="brocade-library-services">
<h4>Brocade Library Services<a class="headerlink" href="#brocade-library-services" title="Permalink to this headline">¶</a></h4>
<p>(source: <strong><a class="reference external" href="https://en.wikipedia.org/wiki/Brocade_Library_Services">Wikipedia</a></strong>)</p>
<p>Brocade, in full “Brocade Library Services” is a web-based library information management system developed by the University of Antwerp (UAntwerp) in 1998 by a section of the University Library called <strong>Anet</strong>. Brocade is designed as a web-based application, sold via a cloud license model. The system is multilingual and uses open source components.</p>
<p>Brocade offers library and archival institutions a complete suite of <strong>applications</strong> allowing them to:</p>
<ul class="simple">
<li><p>create, maintain and publish bibliographical, archival and documentary databases;</p></li>
<li><p>automate all back-office tasks in a library (cataloguing, authority control and thesaurus management, patron administration, circulation, ordering, subscription control, electronic resource management, interlibrary lending and document delivery) and an archival institution (ISAAR authorities, archival acquisitions, ISAD descriptions, descriptions of objects such as manuscripts, photos, letters, …)</p></li>
<li><p>offer electronic services to the library end-users (online public access catalogue, SMS services, personalized MyLib-environment, document requests, alerting service, self-renewal, …)</p></li>
</ul>
<p>The networked topology of the application lets libraries work together, share information, share catalogues, while still keeping their own identity and independency when it comes to typical local functions such as acquisition and circulation.</p>
<p>Brocade is a completely <strong>web-based</strong> application, available anywhere, anyplace and anytime (where an internet connection is available) using standard browsers such as Firefox, Internet Explorer, Safari, Opera and Chrome. Brocade does not require installation of specific clients on the user’s desktop. Installation of software on local PCs is kept to a strict minimum: a PDF reader and an application called Localweb which caters for ticket printing and provides basic circulation operations when the network fails. As the Brocade server is hosted and managed centrally, software updates and system upgrades do not require interaction from the local library staff. Brocade uses a central software repository from which bug fixes can easily be installed overnight to all Brocade systems. All new releases are also installed centrally from this repository.</p>
<p>Target <strong>customers</strong> for Brocade are libraries (public libraries, academic and education libraries, special libraries), museums, documentation centres and archival organisations. The Brocade system has been implemented in various libraries in Belgium, The Netherlands and South Africa.</p>
</div>
<div class="section" id="server">
<h4>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h4>
<p>It all starts with a server, a physical machine located in the University of Antwerp’s server farm. It currently runs Red Hat OS and uses <strong><a class="reference external" href="https://www.ansible.com/">Ansible</a></strong> for application deployment and configuration management. This means we do not manually install applications, but automate the installation process and describe it in detail in (<code class="docutils literal notranslate"><span class="pre">.yaml</span></code>) configuration files. This not only saves our system engineer a lot of time, it also ensures the consistency of the installation process (correct versions of software, dependencies, installation order, …)</p>
<p>The following components are key parts of our server infrastructure:</p>
<div class="section" id="mumps">
<h5>MUMPS<a class="headerlink" href="#mumps" title="Permalink to this headline">¶</a></h5>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/MUMPS">MUMPS</a></strong> (or “M”) is both a key-value database and an integrated programming language (which used to be quite common). How does that work? Well, MUMPS is an interpreted language, so you have an interpreter (same as in Python) at your disposal where you can do things like this:</p>
<div class="highlight-M notranslate"><div class="highlight"><pre><span></span>s ^USERS(1,&quot;first&quot;)=&quot;Tom&quot;
s ^USERS(1,&quot;last&quot;)=&quot;Deneire&quot;
s ^USERS(1,&quot;email&quot;)=&quot;deneiretom@gmail.com&quot;
</pre></div>
</div>
<p>This instruction tells the database to define a <strong>global variable</strong> (the <code class="docutils literal notranslate"><span class="pre">^</span></code> caret sign makes it a global), which will be available both during the program’s runtime and which will be saved to an area of physical disk space designated for these globals, making it effectively a database.</p>
<p>The structure is that of a subscripted array, which is equivalent to this in JSON</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;USERS&quot;</span><span class="p">:</span>
	<span class="p">{</span>
		<span class="nt">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span>
			<span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;deneiretom@gmail.com&quot;</span><span class="p">,</span>
			<span class="nt">&quot;first&quot;</span><span class="p">:</span> <span class="s2">&quot;Tom&quot;</span><span class="p">,</span>
			<span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="s2">&quot;Deneire&quot;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, you can also run code from files in MUMPS. These have extension <code class="docutils literal notranslate"><span class="pre">.m</span></code> and need to be installed in a designated <code class="docutils literal notranslate"><span class="pre">r</span></code> folder (e.g. <code class="docutils literal notranslate"><span class="pre">library/mumps/brocade/r</span></code>).</p>
<p>There are now, and have always been, several <strong><a class="reference external" href="https://en.wikipedia.org/wiki/MUMPS#History">MUMPS implementations</a></strong>, one of which is <strong><a class="reference external" href="https://en.wikipedia.org/wiki/GT.M">G.TM</a></strong>. G.TM is now open source, which allows a company called <strong><a class="reference external" href="https://yottadb.com/">YottaDB</a></strong> to distribute it and offer database support. For Brocade, YottaDB is our database provider, but technically our MUMPS platform and compiler is G.TM.</p>
<p>YottaDB also provide a C and Go wrapper, so you can access the MUMPS database without using MUMPS, if you want. You see, MUMPS is a language that, like all languages, has its <strong><a class="reference external" href="https://thedailywtf.com/articles/A_Case_of_the_MUMPS">flaws</a></strong>. On the other hand, MUMPS is simple, fast and powerful, and is codified in an <strong><a class="reference external" href="https://en.wikipedia.org/wiki/International_Organization_for_Standardization">ISO-standard</a></strong> which means that is allows for very stable code to build applications that can stand the test of time.</p>
<p>In any case, MUMPS is the heart of Brocade: the database that records all of our data and metadata. For instance, this is how book <code class="docutils literal notranslate"><span class="pre">c:lvd:123456</span></code> which we used as an example in chapter05 is stored in our database, in global <code class="docutils literal notranslate"><span class="pre">^BCAT</span></code>:</p>
<div class="highlight-mumps notranslate"><div class="highlight"><pre><span></span>^BCAT(&quot;lvd&quot;,123456)=&quot;^UA-CST^53320,52220^tdeneire^65512,39826^^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;au&quot;,1)=&quot;aut^0^oip^Sassen^Ferdinand^^nd&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;co&quot;,1)=&quot;190 p.^^^^^oip^nd^normal^^^^^^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;dr&quot;,&quot;paper&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;ed&quot;,1)=&quot;oip^2 ed.^nd&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;im&quot;,1)=&quot;Antwerpen^0^nd^YYYY^1932^^YYYY^^^pbl^0^Standaard^oip^nd^normal&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;lg&quot;,1)=&quot;dut^dt&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;lm&quot;,&quot;zebra&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;nr&quot;,1)=&quot;co^0^1.248929^oip^nd^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;nr&quot;,2)=&quot;oclcwork^0^48674539^oip^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;nr&quot;,3)=&quot;oclc^0^781576701^oip^nd^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;opac&quot;,&quot;cat.all&quot;,&quot;*&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;opac&quot;,&quot;cat.anet&quot;,&quot;*&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;opac&quot;,&quot;cat.ua&quot;,&quot;*&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;TPC&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;TPC&quot;,&quot;p:lvd:5554031&quot;)=&quot;^LZ 10/3/12^more-l^^^^^^^^^^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205824&quot;)=&quot;^MAG-Coll 113.1/2^mag-o^^^^^^^0^^^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205824&quot;,&quot;vo&quot;,&quot;-&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205824&quot;,&quot;vo&quot;,&quot;-&quot;,&quot;o:lvd:261838&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205825&quot;)=&quot;^FILO 19 A-SASS 32^filo-a^^^^^^^^^^^&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205825&quot;,&quot;vo&quot;,&quot;-&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;pk&quot;,&quot;UA-CST&quot;,&quot;p:lvd:205825&quot;,&quot;vo&quot;,&quot;-&quot;,&quot;o:lvd:261839&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;re&quot;,&quot;lw&quot;)=&quot;1^1&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;re&quot;,&quot;lw&quot;,&quot; &quot;,&quot;c:work:45740&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;re&quot;,&quot;vnr&quot;)=&quot;1^1&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;re&quot;,&quot;vnr&quot;,&quot; 1932: 4&quot;,&quot;c:lvd:222144&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;su&quot;,&quot;a::19:1&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;su&quot;,&quot;a::93.001:1&quot;)=&quot;&quot;
^BCAT(&quot;lvd&quot;,123456,&quot;ti&quot;,1)=&quot;h^dut^1^0^oip^Geschiedenis van de wijsbegeerte der Grieken en Romeinen^^fp&quot;
</pre></div>
</div>
</div>
<div class="section" id="apache-and-php">
<h5>Apache and PHP<a class="headerlink" href="#apache-and-php" title="Permalink to this headline">¶</a></h5>
<p>Our server uses Apache webserver to host a website with a URL that ends in <code class="docutils literal notranslate"><span class="pre">?brocade.phtml</span></code>. This file is where we link up our frontend (HTML/Javascript/CSS) and backend (MUMPS).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">p</span></code> in <code class="docutils literal notranslate"><span class="pre">brocade.phtml</span></code> stands for PHP, it is a HTML file which can also execute PHP code. PHP (unlike Javascript) runs <em>server side</em> which means it can access the server’s shell. The shell can then start a MUMPS that processes the input HTML (e.g. username and password), performs a database operation (e.g. lookup access rights in the database) and then produces output HTML over stdout. This is then read by PHP again to enable the server to render it on screen again.</p>
</div>
<div class="section" id="python">
<h5>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h5>
<p>Our server also has a Python installation, including several (but well-chosen) third-party packages (such as <code class="docutils literal notranslate"><span class="pre">pylucene</span></code>). In Brocade, Python is used for many different things, but one of its main purposes is to run what we call <strong>toolcat applications</strong>.</p>
<p>Toolcat applications are typically pieces of specific backend software that offer support or extensions for other applications.</p>
<p>Some examples include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mutil</span></code>: maintenance of MUMPS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crunch</span></code>: storage monitoring (disk space, database regions, …)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">musqet</span></code>: export of MUMPS data to <code class="docutils literal notranslate"><span class="pre">.sqlite</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docman</span></code>: file storage, e.g. images, PDFs, …</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lucene</span></code>: our Python wrapper (using <code class="docutils literal notranslate"><span class="pre">pylucene</span></code>) for Lucene</p></li>
</ul>
<p>So if a user uses Brocade to export a dataset in .sqlite, what happens under the hood is that MUMPS goes to the shell to trigger a <code class="docutils literal notranslate"><span class="pre">musqet</span></code> command. This is then executed with Python and the result is stored on the server with <code class="docutils literal notranslate"><span class="pre">docman</span></code>. The result is offered to the user as a download link.</p>
<p>Over the years, Anet has also developed Python packages that are able to read data from the MUMPS database or send data to it.</p>
</div>
<div class="section" id="other-software">
<h5>Other software<a class="headerlink" href="#other-software" title="Permalink to this headline">¶</a></h5>
<p>Other software installed on the server, includes Go (for systems programming, e.g. scheduling tasks such as cleaning <code class="docutils literal notranslate"><span class="pre">/library/tmp</span></code>) and Lucene for indexing.</p>
</div>
</div>
<div class="section" id="qtech">
<h4>Qtech<a class="headerlink" href="#qtech" title="Permalink to this headline">¶</a></h4>
<p>All Brocade software, whether it is MUMPS, Python or what have you, is maintained in a software repository on the server (<code class="docutils literal notranslate"><span class="pre">library/software</span></code>). However, when a developer wants to interact with this repository, for instance to add or edit a file, this is not done on the server directly. There are many reasons for this. For one, this would be impractical, as it would mean that developers could not use their own tools (e.g. code editor) but whatever is present on the server (e.g. <code class="docutils literal notranslate"><span class="pre">vi</span></code>), and that all developers would be working on the same files. Secondly, it was also be dangerous, as removing the wrong file with the wrong command could result in a permanent loss of the software.</p>
<p>Instead local developers get a copy of the software repository on their local machine, very much like a clone from GitHub, and work on that. When they want to push their changes to the server repository, they use a toolcat application with GUI called <code class="docutils literal notranslate"><span class="pre">Qtech</span></code>. This takes care of version control, of copying the local files to their remote controle, and also of installing the software. For instance, in order to be executable by MUMPS <code class="docutils literal notranslate"><span class="pre">.m</span></code> files need to be put in a designated directory (<code class="docutils literal notranslate"><span class="pre">library/mumps/brocade/r</span></code>), which is also done by Qtech. Or, when a developer makes a new toolcat application, it needs to be available in the <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> environment variable on the server. Again this is handled by Qtech.</p>
<div class="section" id="registry">
<h5>Registry<a class="headerlink" href="#registry" title="Permalink to this headline">¶</a></h5>
<p>To do that in a clean and permanent way, we use a JSON file called <code class="docutils literal notranslate"><span class="pre">registry.json</span></code>. This file then contains keys like, <code class="docutils literal notranslate"><span class="pre">GTM-rou-dir</span></code> when stands for <code class="docutils literal notranslate"><span class="pre">library/mumps/brocade/r</span></code>. By using not the path itself, but calling the appropriate key from <code class="docutils literal notranslate"><span class="pre">registry.json</span></code> in our software, we make sure that should YottaDB ever change the location of the designated folder for M routines, we only need to change the registry key and all depending software would still run correctly.</p>
<p>There is also a version of <code class="docutils literal notranslate"><span class="pre">registry.json</span></code> on our local machines, which is important because of keys like <code class="docutils literal notranslate"><span class="pre">os-sep</span></code>. Sometimes Qtech or another toolcat application needs to perform a local operation on our machine (e.g. install an extension for Visual Studio Code), and in those cases it is important to know the appropriate separator for that local machine.</p>
</div>
<div class="section" id="brocade-object-files">
<h5>Brocade object files<a class="headerlink" href="#brocade-object-files" title="Permalink to this headline">¶</a></h5>
<p>One of Qtech’s main functions is to translate the bespoke Brocade object files we use to help our development.</p>
<div class="section" id="macros-d-files">
<h6>Macros (.d files)<a class="headerlink" href="#macros-d-files" title="Permalink to this headline">¶</a></h6>
<p>Standard MUMPS code (MUMPS has an ISO standard) is kind of hardcore and limited. We code in a kind of upgrade <code class="docutils literal notranslate"><span class="pre">.m</span></code> files which are a superset of the .m files YottaDB/G.TM work with. However, in order for YottaDB/GTM to be able to compile them, they need to be translated to standard M code. For instance, one thing that needs to be translated are our <strong>macros</strong> (defined in <code class="docutils literal notranslate"><span class="pre">.d</span></code> files).</p>
<p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Macro_(computer_science)">Macros</a></strong> are patterns that specify how a certain input should be mapped to a replacement output. They are used to make it easy to invoke common command sequences. You see, MUMPS, being quite a minimal language, has no clean way to organize code in libraries or modules. Of course, it is possible to call code that performs, for instance, a <code class="docutils literal notranslate"><span class="pre">split</span></code> operation on a string from a MUMPS routine, but this would look like this:</p>
<div class="highlight-M notranslate"><div class="highlight"><pre><span></span>s string=&quot;Hello world&quot;
s RAresult=&quot;&quot;
d %Split^stdstring(.RAresult,string,&quot; &quot;,1,1)
</pre></div>
</div>
<p>This is not very readable and it means you need to memorize the appropriate MUMPS routine (<code class="docutils literal notranslate"><span class="pre">stdstring.m</span></code>) and the appropriate code label (<code class="docutils literal notranslate"><span class="pre">%Split</span></code>).</p>
<p>With macros, however, we can use this, which is much easier to use and therefore promotes code reuse.</p>
<div class="highlight-M notranslate"><div class="highlight"><pre><span></span>m4_strStrip($target=RAresult, $source=&quot;string&quot;, $chars=&quot; &quot;, $clean=1)
</pre></div>
</div>
<p>Qtech then translates this macro to the ‘pure’ MUMPS version before installing the routine in the designated folder. (By the way, the <code class="docutils literal notranslate"><span class="pre">m4</span></code> in the macro name is a wink to the legendary <strong><a class="reference external" href="https://en.wikipedia.org/wiki/M4_(computer_language)">m4 macro processor</a></strong> that is part of the POSIX standard.)</p>
</div>
<div class="section" id="screens-x-files">
<h6>Screens (.x files)<a class="headerlink" href="#screens-x-files" title="Permalink to this headline">¶</a></h6>
<p>Sending HTML as a string from MUMPS over stdout to the webserver probably sounds quite “bare metal”, and of course it kind of is. Therefore, we have set up a few things which make frontend development much easier.</p>
<p>Instead of have to cobble together pieces of html in our MUMPS routines, we use <strong>.x files</strong> with which our .m files communicate with macros. These .x files are a superset of HTML which allows you to treat them like regular HTML files. Additionaly they grant access to the session’s MUMPS variables, and also allow to interact with our own templating system.</p>
<p>e.g. (MUMPS session has variable <code class="docutils literal notranslate"><span class="pre">UDuser=&quot;tdeneire&quot;</span></code>)</p>
<p>xfile:</p>
<div class="highlight-X notranslate"><div class="highlight"><pre><span></span>{UDuser|staff}
</pre></div>
</div>
<p>produces this HTML:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;mailto:tom.deneire@uantwerpen.be&quot;</span><span class="p">&gt;</span>Tom Deneire<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Again it is Qtech that translates these .x files to proper HTML to send to Apache.</p>
</div>
<div class="section" id="language-codes-l-files">
<h6>Language codes (.l files)<a class="headerlink" href="#language-codes-l-files" title="Permalink to this headline">¶</a></h6>
<p>Another example of Qtech’s role is the way it helps Brocade to function in a multilingual environment. You see, every time we need to display information that is language-dependent, for instance, the word “Title” (which would be “Titel” in a Dutch Brocade, “Titre” in a French one, …), we do not use the term itself, but refer to a language code that is described in an <strong>.l file</strong>. For instance, in <code class="docutils literal notranslate"><span class="pre">catalografie.l</span></code></p>
<div class="highlight-l notranslate"><div class="highlight"><pre><span></span>lgcode Titel:
    N: «Titel»
    E: «Title»
    F: «Titre»
</pre></div>
</div>
<p>This is then translated appropriately by Qtech using the Brocade system’s language setting.</p>
</div>
<div class="section" id="metainformation-b-files">
<h6>Metainformation (.b files)<a class="headerlink" href="#metainformation-b-files" title="Permalink to this headline">¶</a></h6>
<p>One final important aspect of what makes Brocade tick is what we call <strong>metainformation</strong>, recorded in .b files.</p>
<p>We use this word for software metadata. Good software is as generic as possible, which means that it is often better not to hard-code specific metadata in your application, but to build a metadata framework that you can address from your application.</p>
<p>For instance, when building an application to catalogue books you not only want to record a book’s title, but also it’s specific title type, e.g. main title, subtitle, genre title (e.g. the Bible), parallel title (e.g. bilingual titles), incipit, … Now you could make a HTML select element in your form and hardcode these title types, but that’s a bad idea. For instance, when you want to add a title, you have to go back to the code (perhaps in several applications!) and change the HTML. Or, when you distribute your software to serveral libraries and library A wants title types 1-5, but library B only wants title types 1-3, you need to complicate matters even more.</p>
<p>The correct solution is to register this metadata of title types in a database and then call that metadata from the application. That way, you can organize this information in one place and one place only. So, in Brocade, you have metainformation for title types (<code class="docutils literal notranslate"><span class="pre">menu/titlety</span></code>), recorded in the MUMPS database, but if necessary, also available for other environments (e.g. Python, Go), through regular conversion to JSON (<code class="docutils literal notranslate"><span class="pre">library/meta/json</span></code>)</p>
<p>So, in our software, we have a macro which constructs HTML select options with all concrete instances of this metatype for title types.</p>
<div class="highlight-M notranslate"><div class="highlight"><pre><span></span>m4_selectMeta(select, $type=&quot;titlety&quot;, $template=&quot;say&quot;,$default=&quot;&quot;, $lg=&quot;E&quot;, $cgonly=1)
w select
</pre></div>
</div>
<p>output:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;cb&#39;</span><span class="p">&gt;</span>Biomed title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;ch&#39;</span><span class="p">&gt;</span>Titel Harvard Law Review<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;ci&#39;</span><span class="p">&gt;</span>Title Index Medicus<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;cj&#39;</span><span class="p">&gt;</span>Title Judit<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;cs&#39;</span><span class="p">&gt;</span>Citeertitel ISI<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;e&#39;</span><span class="p">&gt;</span>Multiple title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;h&#39;</span><span class="p">&gt;</span>Title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;ko&#39;</span><span class="p">&gt;</span>Portion of title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;m&#39;</span><span class="p">&gt;</span>Uniform title (musical works)<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;nr&#39;</span><span class="p">&gt;</span>Opus title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;o&#39;</span><span class="p">&gt;</span>Original title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;p&#39;</span><span class="p">&gt;</span>Parallel title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;rec&#39;</span><span class="p">&gt;</span>Reviewed title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;s&#39;</span><span class="p">&gt;</span>Filing title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;tc&#39;</span><span class="p">&gt;</span>Collocation title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;u&#39;</span><span class="p">&gt;</span>Uniform title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&#39;va&#39;</span><span class="p">&gt;</span>Other title<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>By combining metainformation you can then further customize your application. For instance, if you make metainformation for catalography forms and record there which title types a form offers, you can make one application that offers multiple libraries their own unique way of doing catalography.</p>
<p>The role of Qtech in this final type of Brocade object files (.[dxlb] files) is to take the metainformation out of the .b file representation and make it available in MUMPS and in the aforementioned JSON format.</p>
<p>We also have special VScode extensions to format these Brocade object files.</p>
</div>
</div>
</div>
<div class="section" id="production-server">
<h4>Production server<a class="headerlink" href="#production-server" title="Permalink to this headline">¶</a></h4>
<p>So far we’ve been speaking about ‘the’ server, but there are in fact several.</p>
<p>The one mentioned was actually the <em>development</em> server (we call it “presto”), as of course we don’t code on the <em>production</em> server (“moto”). If you mess that software up, all users are affected. (There are even more servers, e.g. a demonstration server, a storage server and - importantly - a replication server)</p>
<p>This works like this: we are currently developing Brocade version 5.20, whereas on the production server we have Brocade version 5.10 running, which we leave untouched. When we are finished with 5.20 and want to install the new release, we basically copy the new software (filepath <code class="docutils literal notranslate"><span class="pre">library/software</span></code>) from the development server to the production server, while leaving the data (e.g. the MUMPS database) intact (filepath <code class="docutils literal notranslate"><span class="pre">library/database</span></code>). If any additional operations need to be performed to get everything running, we write release software in Python and/or MUMPS.</p>
</div>
<div class="section" id="optional-ydb-acculturation-workshop">
<h4>Optional: YDB Acculturation Workshop<a class="headerlink" href="#optional-ydb-acculturation-workshop" title="Permalink to this headline">¶</a></h4>
<p>If you want a taste of what it is like to set up your own library system, you can start by getting the YDB MUMPS engine running. After all, it is open source software, which you can download for free.</p>
<p>However, for a first acquaintance it’s probably better to take a look at the <strong><a class="reference external" href="https://docs.yottadb.com/AcculturationGuide/acculturation.html">YottaDB Acculturation Workshop</a></strong> which the company has made available. This will guide you through setting up YDB in a virtual container and addressing the MUMPS database, either with MUMPS, C or Go (they are currently working on a Python wrapper).</p>
</div>
</div>
<span id="document-coursedetails"></span><div class="section" id="information-science-2020-2021">
<h3>Information Science (2020-2021)<a class="headerlink" href="#information-science-2020-2021" title="Permalink to this headline">¶</a></h3>
<p>This document describes the course “Information Science” for the University of Antwerp <a class="reference external" href="https://www.uantwerpen.be/en/study/programmes/all-programmes/digital-text-analysis/">Master of Linguistics</a> (from 2021-2022 onwards: “Master of Digital Text Analysis”).</p>
<div class="section" id="course-details">
<h4>Course details<a class="headerlink" href="#course-details" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>.</p></th>
<th class="head"><p>.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Course Code</p></td>
<td><p>2005FLWDTA</p></td>
</tr>
<tr class="row-odd"><td><p>Study domain</p></td>
<td><p>Linguistics and Proficiency</p></td>
</tr>
<tr class="row-even"><td><p>Academic year</p></td>
<td><p>2020-2021</p></td>
</tr>
<tr class="row-odd"><td><p>Semester</p></td>
<td><p>1st semester</p></td>
</tr>
<tr class="row-even"><td><p>Credits</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>Contract restrictions</p></td>
<td><p>No contract restriction</p></td>
</tr>
<tr class="row-even"><td><p>Language of instruction</p></td>
<td><p>English</p></td>
</tr>
<tr class="row-odd"><td><p>Exam period</p></td>
<td><p>exam in the 1st semester</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="course-schedule">
<h4>Course schedule<a class="headerlink" href="#course-schedule" title="Permalink to this headline">¶</a></h4>
<p>During the academic year 2020-2021, the course “Information Science” (1st semester) will take place on Fridays, from 9h30 to 12h30, in room C.203, during weeks 9-13.</p>
</div>
<div class="section" id="course-description">
<h4>Course description<a class="headerlink" href="#course-description" title="Permalink to this headline">¶</a></h4>
<div class="section" id="prerequisites">
<h5>1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h5>
<p>At the start of this course the student should have acquired the following competences:</p>
<ul class="simple">
<li><p>An academic background in the humanities (broadly speaking)</p></li>
<li><p>A good working knowledge of Python</p></li>
<li><p>Basic understanding of Git</p></li>
</ul>
</div>
<div class="section" id="learning-outcomes">
<h5>2. Learning outcomes<a class="headerlink" href="#learning-outcomes" title="Permalink to this headline">¶</a></h5>
<p>This course should provide a working knowledge of information science and information retrieval, with a special focus on data queries, text searching and library systems.</p>
</div>
<div class="section" id="course-contents">
<h5>3. Course contents<a class="headerlink" href="#course-contents" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="international-dimension">
<h5>4. International dimension*<a class="headerlink" href="#international-dimension" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="teaching-method-and-planned-learning-activities">
<h5>5. Teaching method and planned learning activities<a class="headerlink" href="#teaching-method-and-planned-learning-activities" title="Permalink to this headline">¶</a></h5>
<p>Each course will feature about 1,5 to 2 hours of theory and 1 hour of practice. Most courses will feature a coding <strong>assignment</strong>, which will be introduced and discussed during the practical part of the course. Students are expected to finish the assignments after hours.</p>
</div>
<div class="section" id="assessment-method-and-criteria">
<h5>6. Assessment method and criteria<a class="headerlink" href="#assessment-method-and-criteria" title="Permalink to this headline">¶</a></h5>
<p>The aforementioned assignments lead up to a project assignment which will serve as the exam for this course. The project assignment will be introduced during the final course. Students who have succesfully completed the previous course assignments should have no trouble submitting an adequate project assignment. Students will be required to finish the project in a certain timeframe.</p>
</div>
<div class="section" id="study-material">
<h5>7. Study material *<a class="headerlink" href="#study-material" title="Permalink to this headline">¶</a></h5>
<p>Study material will be provided in various forms (slides, Jupyter Notebooks, …) by the lecturer.</p>
<div class="section" id="required-reading">
<h6>7.1. Required reading<a class="headerlink" href="#required-reading" title="Permalink to this headline">¶</a></h6>
</div>
<div class="section" id="optional-reading">
<h6>7.2. Optional reading<a class="headerlink" href="#optional-reading" title="Permalink to this headline">¶</a></h6>
<ul class="simple">
<li><p><em>Handbook of Information Science</em>, By Wolfgang G. Stock, Mechtild Stock, (Berlin: De Gruyter Saur, 2013), <a class="reference external" href="https://isbnsearch.org/isbn/9783110234992">ISBN 978-3110234992</a>, https://doi.org/10.1515/9783110235005</p></li>
<li><p><em>The Myth and Magic of Library Systems</em>, By Keith J. Kelley, <a class="reference external" href="https://isbnsearch.org/isbn/9780081000762">ISBN 978-0081000762</a></p></li>
<li><p><em>A Librarian’s Guide to Graphs, Data and the Semantic Web</em>, By James Powell, <a class="reference external" href="https://isbnsearch.org/isbn/9781843347538">ISBN 978-1843347538</a></p></li>
<li><p><em>SQL in a Nutshell</em>, 3rd Edition, By Kevin Kline, <a class="reference external" href="https://isbnsearch.org/isbn/9780596518844">ISBN 978-0596518844</a></p></li>
<li><p><em>Modern Information Retrieval: The Concepts and Technology behind Search</em>, By Ricardo Baeza-Yates, Berthier Ribeiro-Neto, Second edition (Harlow e.a.: Addison-Wesley, 2011), <a class="reference external" href="https://isbnsearch.org/isbn/9780321416919">ISBN 978-0-321-41691-9</a></p></li>
<li><p><em>Information Architecture</em>, 4th Edition, By Louis Rosenfeld, Peter Morville, Jorge Arango, <a class="reference external" href="https://isbnsearch.org/isbn/9781491911686">ISBN 978-1491911686</a></p></li>
<li><p><em>Apprenticeship Patterns</em>, By Dave Hoover, Adewale Oshineye, <a class="reference external" href="https://isbnsearch.org/isbn/9780596518387">ISBN 978-0596518387</a></p></li>
</ul>
</div>
</div>
<div class="section" id="contact-information">
<h5>8. Contact information<a class="headerlink" href="#contact-information" title="Permalink to this headline">¶</a></h5>
<p>Dr. Tom Deneire
Antwerp University Library
Anet - Ve35.304
Venusstraat 35
2000 Antwerp
tom.deneire&#64;uantwerpen.be</p>
</div>
</div>
</div>
<span id="document-project"></span><div class="section" id="exam-project">
<h3>Exam project<a class="headerlink" href="#exam-project" title="Permalink to this headline">¶</a></h3>
<p><img alt="" src="_images/project.jpeg" /></p>
<p>This document describes the exam project for the course “Information Science” for the UAntwerp Master of Linguistics (from 2021-2022 onwards: “Master of Digital Text Analysis”).</p>
<div class="section" id="task">
<h4>Task<a class="headerlink" href="#task" title="Permalink to this headline">¶</a></h4>
<p><strong>Use the DBpedia lookup API to build a public access catalogue for the Great Books.</strong></p>
<p>Note: determine <code class="docutils literal notranslate"><span class="pre">{prefix}</span></code> like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">import</span> <span class="nn">urllib.response</span>


<span class="k">def</span> <span class="nf">getAPIprefix</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Detect functioning DBpedia lookup API</span>
<span class="sd">    see https://forum.dbpedia.org/t/dbpedia-lookup-api/872</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prefixes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;https://lookup.dbpedia.org/api/search/PrefixSearch?QueryString=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;http://lookup.dbpedia.org/api/search/PrefixSearch?QueryString=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;https://lookup.dbpedia.org/api/prefix?query=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;http://lookup.dbpedia.org/api/prefix?query=&quot;</span><span class="p">,</span>
                <span class="s2">&quot;http://akswnc7.informatik.uni-leipzig.de/lookup/api/search?query=&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">prefix</span> <span class="ow">in</span> <span class="n">prefixes</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="s2">&quot;Antwerp&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">test</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">test</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">prefix</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;No functioning DBpedia lookup API found!&quot;</span><span class="p">)</span>


<span class="n">DBPEDIA_PREFIX</span> <span class="o">=</span> <span class="n">getAPIprefix</span><span class="p">()</span>
</pre></div>
</div>
<p>This task contains (at least) the following components:</p>
<ul class="simple">
<li><p>Build a Jupyter Notebook that accepts user input of a book title, such as “To Kill a Mockingbird”, “The Origin of Species”, …</p></li>
<li><p>Make a call to the <a class="reference external" href="https://github.com/dbpedia/lookup">DBpedia lookup API</a>. (Don’t be surprised if the API sometimes returns incomplete information, it is not the most recent lookup API. The most recent one uses SPARQL queries though).</p></li>
<li><p>The API response, see e.g. <code class="docutils literal notranslate"><span class="pre">{prefix}mockingbird</span></code>, will be XML which refers to the ontology of each result. For books look for <code class="docutils literal notranslate"><span class="pre">http://dbpedia.org/ontology/Book</span></code></p></li>
<li><p>Parse the XML response and extract the result you need. If there are several, allow the user to pick a choice before you continue to the resource itself, e.g. <code class="docutils literal notranslate"><span class="pre">http://dbpedia.org/resource/To_Kill_a_Mockingbird</span></code></p></li>
<li><p>The resource itself can be rendered in different formats, but JSON is the easiest to work with, e.g. <code class="docutils literal notranslate"><span class="pre">http://dbpedia.org/data/To_Kill_a_Mockingbird.json</span></code> (notice the structural differences in the URL!). Parse this JSON and extract the metadata you need.</p></li>
<li><p>This RDF-JSON of the resource contains a lot of metadata about the book, but also its author. As this is Linked Data, many metadata elements again refer to other DBpedia resources, e.g. <code class="docutils literal notranslate"><span class="pre">http://dbpedia.org/resource/Harper_Lee</span></code>, which you can use to further enrich your result.</p></li>
<li><p>Return the relevant results to the Jupyter Notebook environment and display them nicely.</p></li>
</ul>
</div>
<div class="section" id="requirements">
<h4>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h4>
<div class="section" id="pass-or-fail">
<h5>Pass or fail<a class="headerlink" href="#pass-or-fail" title="Permalink to this headline">¶</a></h5>
<p>The following is required to pass the exam:</p>
<ul class="simple">
<li><p>Upload <strong>functional</strong> code to your GitHub repository. If the Notebook doesn’t work when I try to run its code, I will try to debug your code, but of course, this drastically reduces your chances to pass this course. I would rather have functional code that does one thing, than code that tries to do ten things but doesn’t run.</p></li>
<li><p>Put the code in a new repository, outside of <code class="docutils literal notranslate"><span class="pre">Information</span> <span class="pre">Science</span></code>. Push your last update by <strong>Wednesday 20 January 00:01 hours</strong>.</p></li>
<li><p>Add a short <code class="docutils literal notranslate"><span class="pre">README.md</span></code> that describes your application, any necessary dependencies (third-party libraries, …), etcetera. However, please take care to use only the Python standard library and/or the third-party libraries we used in the course itself. This will greatly reduce the chances of your code breaking because of dependency issues.</p></li>
<li><p>Organize your code by using at least two different modules (e.g. <code class="docutils literal notranslate"><span class="pre">project.ipynb</span></code>, importing something like <code class="docutils literal notranslate"><span class="pre">dbpedia.py</span></code>).</p></li>
<li><p>As with any exam, this project is a <strong>personal assignment</strong>. Please do not collaborate with your fellow students (and take care not to publish your code prematurely). I will be able to tell if two codebases are essentially the same.</p></li>
</ul>
</div>
<div class="section" id="extra-credit">
<h5>Extra credit<a class="headerlink" href="#extra-credit" title="Permalink to this headline">¶</a></h5>
<p>The following will give you extra credit:</p>
<ul class="simple">
<li><p>The more relevant metadata you can include in your result, the better. Take full advantage of the ‘linked’ in the DBpedia Linked Data, for instance, by including some information about the author.</p></li>
<li><p>Including code comments such as function docstrings will make your code a lot more readable and easier to follow.</p></li>
<li><p>Displaying the result in the notebook can be done in different ways. Jupyter Notebook offers some nice options here, for instance displaying HTML which can dramatically improve the layout of your results. Proper visual presentation of search results is a vital component of information quality, but there is a limit. After that, layout is only eye-candy, so do not invest too much time in this.</p></li>
</ul>
</div>
<div class="section" id="maxing-out">
<h5>Maxing out<a class="headerlink" href="#maxing-out" title="Permalink to this headline">¶</a></h5>
<p>The following will make your project exceptional:</p>
<ul class="simple">
<li><p>If you follow the Linked Data path, you will find even more metadata than title or author. You should by no means feel obliged to stick to just the DBpedia environment. Maybe the other Wikimedia projects have something to offer too (Wikidata, Wikimedia Commons). Perhaps there is even the possibilty to return some images with the result?</p></li>
<li><p>Your own creativity is more than welcome!</p></li>
</ul>
</div>
</div>
<div class="section" id="tips">
<h4>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Start with the basics</strong>: read book input from notebook, make the API call, print the result. Only then try to make that better by adding metadata or improving the layout.</p></li>
<li><p><strong>Test your application with many examples</strong>, e.g. The Origin of Species”, “War and Peace”, “Alice in Wonderland”, “Silmarillion”, etc. Also test it with invalid input: empty strings, characters that are unsafe for URLs, integers, etcetera.</p></li>
<li><p><strong>Avoid local operations</strong> so the code only runs in Jupyter Notebook. By the way, this will make for a nice online portfolio project!</p></li>
<li><p><strong>Refactor</strong> every self-contained unit of code to a function or class. Think of your project as a long line of pipes. If you can’t see the bigger picture, work from the bottom up: one function at a time. E.g.: a function that takes user input string (e.g. “Ulysses”) and returns a DBPedia API URL, or: a function that takes a resource URL and turns that into the matching JSON URL (see above).</p></li>
</ul>
</div>
<div class="section" id="consultation">
<h4>Consultation<a class="headerlink" href="#consultation" title="Permalink to this headline">¶</a></h4>
<p>If you have questions regarding the project architecture, design or implementation (not about actual code problems), you can contact me the following weeks to make an appointment for a short consultation during the week of <strong>11 to 15 January</strong>. However, this is 100% optional.</p>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Tom Deneire<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
  </body>
</html>